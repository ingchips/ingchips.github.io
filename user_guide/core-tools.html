<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Core Tools | INGCHIPS SDK User Guide</title>
  <meta name="description" content="This is the user guide of INGCHIPS SDK." />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Core Tools | INGCHIPS SDK User Guide" />
  <meta property="og:type" content="book" />
  
  <meta property="og:image" content="./img/sdk_overview.png" />
  <meta property="og:description" content="This is the user guide of INGCHIPS SDK." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Core Tools | INGCHIPS SDK User Guide" />
  
  <meta name="twitter:description" content="This is the user guide of INGCHIPS SDK." />
  <meta name="twitter:image" content="./img/sdk_overview.png" />

<meta name="author" content="v1.2.6" />


<meta name="date" content="2021-01-10" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tutorial.html"/>
<link rel="next" href="dive-into-sdk.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">User Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Welcome</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#scope"><i class="fa fa-check"></i><b>2.1</b> Scope</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#architecture"><i class="fa fa-check"></i><b>2.2</b> Architecture</a><ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#rtos-bundles"><i class="fa fa-check"></i><b>2.2.1</b> RTOS Bundles</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#noos-bundles"><i class="fa fa-check"></i><b>2.2.2</b> “NoOS” Bundles</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#abbreviations-terminology"><i class="fa fa-check"></i><b>2.3</b> Abbreviations &amp; Terminology</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#references"><i class="fa fa-check"></i><b>2.4</b> References</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tutorial.html"><a href="tutorial.html"><i class="fa fa-check"></i><b>3</b> Tutorials</a><ul>
<li class="chapter" data-level="3.1" data-path="tutorial.html"><a href="tutorial.html#ch1-hello-world"><i class="fa fa-check"></i><b>3.1</b> Hello World</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tutorial.html"><a href="tutorial.html#development-tool-page"><i class="fa fa-check"></i><b>3.1.1</b> <code>Development Tool</code> Page</a></li>
<li class="chapter" data-level="3.1.2" data-path="tutorial.html"><a href="tutorial.html#choose-chip-series-page"><i class="fa fa-check"></i><b>3.1.2</b> <code>Choose Chip Series</code> Page</a></li>
<li class="chapter" data-level="3.1.3" data-path="tutorial.html"><a href="tutorial.html#choose-project-type-page"><i class="fa fa-check"></i><b>3.1.3</b> <code>Choose Project Type</code> Page</a></li>
<li class="chapter" data-level="3.1.4" data-path="tutorial.html"><a href="tutorial.html#role-of-your-device-page"><i class="fa fa-check"></i><b>3.1.4</b> <code>Role of Your Device</code> Page</a></li>
<li class="chapter" data-level="3.1.5" data-path="tutorial.html"><a href="tutorial.html#peripheral-setup-page"><i class="fa fa-check"></i><b>3.1.5</b> <code>Peripheral Setup</code> Page</a></li>
<li class="chapter" data-level="3.1.6" data-path="tutorial.html"><a href="tutorial.html#security-privacy-page"><i class="fa fa-check"></i><b>3.1.6</b> <code>Security &amp; Privacy</code> Page</a></li>
<li class="chapter" data-level="3.1.7" data-path="tutorial.html"><a href="tutorial.html#firmare-over-the-air-page"><i class="fa fa-check"></i><b>3.1.7</b> <code>Firmare Over-The-Air</code> Page</a></li>
<li class="chapter" data-level="3.1.8" data-path="tutorial.html"><a href="tutorial.html#common-functions-page"><i class="fa fa-check"></i><b>3.1.8</b> <code>Common Functions</code> Page</a></li>
<li class="chapter" data-level="3.1.9" data-path="tutorial.html"><a href="tutorial.html#build-your-project"><i class="fa fa-check"></i><b>3.1.9</b> Build your project</a></li>
<li class="chapter" data-level="3.1.10" data-path="tutorial.html"><a href="tutorial.html#download"><i class="fa fa-check"></i><b>3.1.10</b> Download</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tutorial.html"><a href="tutorial.html#ibeacon"><i class="fa fa-check"></i><b>3.2</b> iBeacon</a><ul>
<li class="chapter" data-level="3.2.1" data-path="tutorial.html"><a href="tutorial.html#setup-advertising-data"><i class="fa fa-check"></i><b>3.2.1</b> Setup Advertising Data</a></li>
<li class="chapter" data-level="3.2.2" data-path="tutorial.html"><a href="tutorial.html#try-it"><i class="fa fa-check"></i><b>3.2.2</b> Try It</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="tutorial.html"><a href="tutorial.html#thermometer"><i class="fa fa-check"></i><b>3.3</b> Thermometer</a><ul>
<li class="chapter" data-level="3.3.1" data-path="tutorial.html"><a href="tutorial.html#setup-advertising-data-1"><i class="fa fa-check"></i><b>3.3.1</b> Setup Advertising Data</a></li>
<li class="chapter" data-level="3.3.2" data-path="tutorial.html"><a href="tutorial.html#setup-gatt-profile"><i class="fa fa-check"></i><b>3.3.2</b> Setup GATT Profile</a></li>
<li class="chapter" data-level="3.3.3" data-path="tutorial.html"><a href="tutorial.html#write-the-code"><i class="fa fa-check"></i><b>3.3.3</b> Write the Code</a></li>
<li class="chapter" data-level="3.3.4" data-path="tutorial.html"><a href="tutorial.html#notification"><i class="fa fa-check"></i><b>3.3.4</b> Notification</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tutorial.html"><a href="tutorial.html#thermometer-with-fota"><i class="fa fa-check"></i><b>3.4</b> Thermometer with FOTA</a><ul>
<li class="chapter" data-level="3.4.1" data-path="tutorial.html"><a href="tutorial.html#device-with-fota"><i class="fa fa-check"></i><b>3.4.1</b> Device with FOTA</a></li>
<li class="chapter" data-level="3.4.2" data-path="tutorial.html"><a href="tutorial.html#make-a-new-version"><i class="fa fa-check"></i><b>3.4.2</b> Make a New Version</a></li>
<li class="chapter" data-level="3.4.3" data-path="tutorial.html"><a href="tutorial.html#fota-server"><i class="fa fa-check"></i><b>3.4.3</b> FOTA Server</a></li>
<li class="chapter" data-level="3.4.4" data-path="tutorial.html"><a href="tutorial.html#try-it-1"><i class="fa fa-check"></i><b>3.4.4</b> Try It</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="tutorial.html"><a href="tutorial.html#ibeacon-scanner"><i class="fa fa-check"></i><b>3.5</b> iBeacon Scanner</a><ul>
<li class="chapter" data-level="3.5.1" data-path="tutorial.html"><a href="tutorial.html#distance-estimation"><i class="fa fa-check"></i><b>3.5.1</b> Distance Estimation</a></li>
<li class="chapter" data-level="3.5.2" data-path="tutorial.html"><a href="tutorial.html#concurrent-advertising-scanning"><i class="fa fa-check"></i><b>3.5.2</b> Concurrent Advertising &amp; Scanning</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="tutorial.html"><a href="tutorial.html#notification-indication"><i class="fa fa-check"></i><b>3.6</b> Notification &amp; Indication</a><ul>
<li class="chapter" data-level="3.6.1" data-path="tutorial.html"><a href="tutorial.html#inter-task-comm"><i class="fa fa-check"></i><b>3.6.1</b> Inter-task Communication</a></li>
<li class="chapter" data-level="3.6.2" data-path="tutorial.html"><a href="tutorial.html#timer"><i class="fa fa-check"></i><b>3.6.2</b> Timer</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="tutorial.html"><a href="tutorial.html#throughput"><i class="fa fa-check"></i><b>3.7</b> Throughput</a><ul>
<li class="chapter" data-level="3.7.1" data-path="tutorial.html"><a href="tutorial.html#theoretical-peak-throughput"><i class="fa fa-check"></i><b>3.7.1</b> Theoretical Peak Throughput</a></li>
<li class="chapter" data-level="3.7.2" data-path="tutorial.html"><a href="tutorial.html#test-throughput"><i class="fa fa-check"></i><b>3.7.2</b> Test Throughput</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="tutorial.html"><a href="tutorial.html#dual-role-ble-gateway"><i class="fa fa-check"></i><b>3.8</b> Dual Role &amp; BLE Gateway</a><ul>
<li class="chapter" data-level="3.8.1" data-path="tutorial.html"><a href="tutorial.html#use-ingwizard-to-create-a-peripheral-app"><i class="fa fa-check"></i><b>3.8.1</b> Use <code>ingWizard</code> to create a peripheral app</a></li>
<li class="chapter" data-level="3.8.2" data-path="tutorial.html"><a href="tutorial.html#define-thermometer-data"><i class="fa fa-check"></i><b>3.8.2</b> Define Thermometer Data</a></li>
<li class="chapter" data-level="3.8.3" data-path="tutorial.html"><a href="tutorial.html#scan-for-thermometers"><i class="fa fa-check"></i><b>3.8.3</b> Scan for Thermometers</a></li>
<li class="chapter" data-level="3.8.4" data-path="tutorial.html"><a href="tutorial.html#discover-services"><i class="fa fa-check"></i><b>3.8.4</b> Discover Services</a></li>
<li class="chapter" data-level="3.8.5" data-path="tutorial.html"><a href="tutorial.html#data-handling"><i class="fa fa-check"></i><b>3.8.5</b> Data Handling</a></li>
<li class="chapter" data-level="3.8.6" data-path="tutorial.html"><a href="tutorial.html#robustness"><i class="fa fa-check"></i><b>3.8.6</b> Robustness</a></li>
<li class="chapter" data-level="3.8.7" data-path="tutorial.html"><a href="tutorial.html#prepare-thermometers"><i class="fa fa-check"></i><b>3.8.7</b> Prepare Thermometers</a></li>
<li class="chapter" data-level="3.8.8" data-path="tutorial.html"><a href="tutorial.html#test"><i class="fa fa-check"></i><b>3.8.8</b> Test</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="tutorial.html"><a href="tutorial.html#hello-nim"><i class="fa fa-check"></i><b>3.9</b> Hello, Nim</a><ul>
<li class="chapter" data-level="3.9.1" data-path="tutorial.html"><a href="tutorial.html#create-a-nim-project"><i class="fa fa-check"></i><b>3.9.1</b> Create a <code>Nim</code> Project</a></li>
<li class="chapter" data-level="3.9.2" data-path="tutorial.html"><a href="tutorial.html#create-advertising-data"><i class="fa fa-check"></i><b>3.9.2</b> Create Advertising Data</a></li>
<li class="chapter" data-level="3.9.3" data-path="tutorial.html"><a href="tutorial.html#create-profile-data"><i class="fa fa-check"></i><b>3.9.3</b> Create Profile Data</a></li>
<li class="chapter" data-level="3.9.4" data-path="tutorial.html"><a href="tutorial.html#benefits-of-adopting-nim"><i class="fa fa-check"></i><b>3.9.4</b> Benefits of Adopting <code>Nim</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="core-tools.html"><a href="core-tools.html"><i class="fa fa-check"></i><b>4</b> Core Tools</a><ul>
<li class="chapter" data-level="4.1" data-path="core-tools.html"><a href="core-tools.html#ingwizard"><i class="fa fa-check"></i><b>4.1</b> ingWizard</a></li>
<li class="chapter" data-level="4.2" data-path="core-tools.html"><a href="core-tools.html#ch2-downloader"><i class="fa fa-check"></i><b>4.2</b> Downloader</a><ul>
<li class="chapter" data-level="4.2.1" data-path="core-tools.html"><a href="core-tools.html#introduction"><i class="fa fa-check"></i><b>4.2.1</b> Introduction</a></li>
<li class="chapter" data-level="4.2.2" data-path="core-tools.html"><a href="core-tools.html#script-mass-prod"><i class="fa fa-check"></i><b>4.2.2</b> Scripting &amp; Mass Production</a></li>
<li class="chapter" data-level="4.2.3" data-path="core-tools.html"><a href="core-tools.html#flash-read-protection"><i class="fa fa-check"></i><b>4.2.3</b> Flash Read Protection</a></li>
<li class="chapter" data-level="4.2.4" data-path="core-tools.html"><a href="core-tools.html#python-version"><i class="fa fa-check"></i><b>4.2.4</b> Python Version</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="core-tools.html"><a href="core-tools.html#ingtracer"><i class="fa fa-check"></i><b>4.3</b> ingTracer</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html"><i class="fa fa-check"></i><b>5</b> Dive Into SDK</a><ul>
<li class="chapter" data-level="5.1" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#memory-management"><i class="fa fa-check"></i><b>5.1</b> Memory Management</a><ul>
<li class="chapter" data-level="5.1.1" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#global-variables"><i class="fa fa-check"></i><b>5.1.1</b> Global Variables</a></li>
<li class="chapter" data-level="5.1.2" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#using-stack"><i class="fa fa-check"></i><b>5.1.2</b> Using Stack</a></li>
<li class="chapter" data-level="5.1.3" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#using-heap"><i class="fa fa-check"></i><b>5.1.3</b> Using Heap</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#multitasking"><i class="fa fa-check"></i><b>5.2</b> Multitasking</a></li>
<li class="chapter" data-level="5.3" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#interrupt-management"><i class="fa fa-check"></i><b>5.3</b> Interrupt Management</a></li>
<li class="chapter" data-level="5.4" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#power-management"><i class="fa fa-check"></i><b>5.4</b> Power Management</a></li>
<li class="chapter" data-level="5.5" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#cmsis-api"><i class="fa fa-check"></i><b>5.5</b> CMSIS API</a></li>
<li class="chapter" data-level="5.6" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#debugging-tracing"><i class="fa fa-check"></i><b>5.6</b> Debugging &amp; Tracing</a><ul>
<li class="chapter" data-level="5.6.1" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#tips-on-segger-rtt"><i class="fa fa-check"></i><b>5.6.1</b> Tips on SEGGER RTT</a></li>
<li class="chapter" data-level="5.6.2" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#memory-dump"><i class="fa fa-check"></i><b>5.6.2</b> Memory Dump</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="api-ref.html"><a href="api-ref.html"><i class="fa fa-check"></i><b>6</b> Platform API Reference</a><ul>
<li class="chapter" data-level="6.1" data-path="api-ref.html"><a href="api-ref.html#platform_32k_rc_auto_tune"><i class="fa fa-check"></i><b>6.1</b> <code>platform_32k_rc_auto_tune</code></a><ul>
<li class="chapter" data-level="6.1.1" data-path="api-ref.html"><a href="api-ref.html#prototype"><i class="fa fa-check"></i><b>6.1.1</b> Prototype</a></li>
<li class="chapter" data-level="6.1.2" data-path="api-ref.html"><a href="api-ref.html#parameters"><i class="fa fa-check"></i><b>6.1.2</b> Parameters</a></li>
<li class="chapter" data-level="6.1.3" data-path="api-ref.html"><a href="api-ref.html#return-value"><i class="fa fa-check"></i><b>6.1.3</b> Return Value</a></li>
<li class="chapter" data-level="6.1.4" data-path="api-ref.html"><a href="api-ref.html#remarks"><i class="fa fa-check"></i><b>6.1.4</b> Remarks</a></li>
<li class="chapter" data-level="6.1.5" data-path="api-ref.html"><a href="api-ref.html#example"><i class="fa fa-check"></i><b>6.1.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="api-ref.html"><a href="api-ref.html#platform_32k_rc_tune"><i class="fa fa-check"></i><b>6.2</b> <code>platform_32k_rc_tune</code></a><ul>
<li class="chapter" data-level="6.2.1" data-path="api-ref.html"><a href="api-ref.html#prototype-1"><i class="fa fa-check"></i><b>6.2.1</b> Prototype</a></li>
<li class="chapter" data-level="6.2.2" data-path="api-ref.html"><a href="api-ref.html#parameters-1"><i class="fa fa-check"></i><b>6.2.2</b> Parameters</a></li>
<li class="chapter" data-level="6.2.3" data-path="api-ref.html"><a href="api-ref.html#return-value-1"><i class="fa fa-check"></i><b>6.2.3</b> Return Value</a></li>
<li class="chapter" data-level="6.2.4" data-path="api-ref.html"><a href="api-ref.html#remarks-1"><i class="fa fa-check"></i><b>6.2.4</b> Remarks</a></li>
<li class="chapter" data-level="6.2.5" data-path="api-ref.html"><a href="api-ref.html#example-1"><i class="fa fa-check"></i><b>6.2.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="api-ref.html"><a href="api-ref.html#platform_config"><i class="fa fa-check"></i><b>6.3</b> <code>platform_config</code></a><ul>
<li class="chapter" data-level="6.3.1" data-path="api-ref.html"><a href="api-ref.html#prototype-2"><i class="fa fa-check"></i><b>6.3.1</b> Prototype</a></li>
<li class="chapter" data-level="6.3.2" data-path="api-ref.html"><a href="api-ref.html#parameters-2"><i class="fa fa-check"></i><b>6.3.2</b> Parameters</a></li>
<li class="chapter" data-level="6.3.3" data-path="api-ref.html"><a href="api-ref.html#return-value-2"><i class="fa fa-check"></i><b>6.3.3</b> Return Value</a></li>
<li class="chapter" data-level="6.3.4" data-path="api-ref.html"><a href="api-ref.html#remarks-2"><i class="fa fa-check"></i><b>6.3.4</b> Remarks</a></li>
<li class="chapter" data-level="6.3.5" data-path="api-ref.html"><a href="api-ref.html#example-2"><i class="fa fa-check"></i><b>6.3.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="api-ref.html"><a href="api-ref.html#platform_get_heap_status"><i class="fa fa-check"></i><b>6.4</b> <code>platform_get_heap_status</code></a><ul>
<li class="chapter" data-level="6.4.1" data-path="api-ref.html"><a href="api-ref.html#prototype-3"><i class="fa fa-check"></i><b>6.4.1</b> Prototype</a></li>
<li class="chapter" data-level="6.4.2" data-path="api-ref.html"><a href="api-ref.html#parameters-3"><i class="fa fa-check"></i><b>6.4.2</b> Parameters</a></li>
<li class="chapter" data-level="6.4.3" data-path="api-ref.html"><a href="api-ref.html#return-value-3"><i class="fa fa-check"></i><b>6.4.3</b> Return Value</a></li>
<li class="chapter" data-level="6.4.4" data-path="api-ref.html"><a href="api-ref.html#remarks-3"><i class="fa fa-check"></i><b>6.4.4</b> Remarks</a></li>
<li class="chapter" data-level="6.4.5" data-path="api-ref.html"><a href="api-ref.html#example-3"><i class="fa fa-check"></i><b>6.4.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="api-ref.html"><a href="api-ref.html#platform_get_us_time"><i class="fa fa-check"></i><b>6.5</b> <code>platform_get_us_time</code></a><ul>
<li class="chapter" data-level="6.5.1" data-path="api-ref.html"><a href="api-ref.html#prototype-4"><i class="fa fa-check"></i><b>6.5.1</b> Prototype</a></li>
<li class="chapter" data-level="6.5.2" data-path="api-ref.html"><a href="api-ref.html#parameters-4"><i class="fa fa-check"></i><b>6.5.2</b> Parameters</a></li>
<li class="chapter" data-level="6.5.3" data-path="api-ref.html"><a href="api-ref.html#return-value-4"><i class="fa fa-check"></i><b>6.5.3</b> Return Value</a></li>
<li class="chapter" data-level="6.5.4" data-path="api-ref.html"><a href="api-ref.html#remarks-4"><i class="fa fa-check"></i><b>6.5.4</b> Remarks</a></li>
<li class="chapter" data-level="6.5.5" data-path="api-ref.html"><a href="api-ref.html#example-4"><i class="fa fa-check"></i><b>6.5.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="api-ref.html"><a href="api-ref.html#platform_get_version"><i class="fa fa-check"></i><b>6.6</b> <code>platform_get_version</code></a><ul>
<li class="chapter" data-level="6.6.1" data-path="api-ref.html"><a href="api-ref.html#prototype-5"><i class="fa fa-check"></i><b>6.6.1</b> Prototype</a></li>
<li class="chapter" data-level="6.6.2" data-path="api-ref.html"><a href="api-ref.html#parameters-5"><i class="fa fa-check"></i><b>6.6.2</b> Parameters</a></li>
<li class="chapter" data-level="6.6.3" data-path="api-ref.html"><a href="api-ref.html#return-value-5"><i class="fa fa-check"></i><b>6.6.3</b> Return Value</a></li>
<li class="chapter" data-level="6.6.4" data-path="api-ref.html"><a href="api-ref.html#remarks-5"><i class="fa fa-check"></i><b>6.6.4</b> Remarks</a></li>
<li class="chapter" data-level="6.6.5" data-path="api-ref.html"><a href="api-ref.html#example-5"><i class="fa fa-check"></i><b>6.6.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="api-ref.html"><a href="api-ref.html#platform_hrng"><i class="fa fa-check"></i><b>6.7</b> <code>platform_hrng</code></a><ul>
<li class="chapter" data-level="6.7.1" data-path="api-ref.html"><a href="api-ref.html#prototype-6"><i class="fa fa-check"></i><b>6.7.1</b> Prototype</a></li>
<li class="chapter" data-level="6.7.2" data-path="api-ref.html"><a href="api-ref.html#parameters-6"><i class="fa fa-check"></i><b>6.7.2</b> Parameters</a></li>
<li class="chapter" data-level="6.7.3" data-path="api-ref.html"><a href="api-ref.html#return-value-6"><i class="fa fa-check"></i><b>6.7.3</b> Return Value</a></li>
<li class="chapter" data-level="6.7.4" data-path="api-ref.html"><a href="api-ref.html#remarks-6"><i class="fa fa-check"></i><b>6.7.4</b> Remarks</a></li>
<li class="chapter" data-level="6.7.5" data-path="api-ref.html"><a href="api-ref.html#example-6"><i class="fa fa-check"></i><b>6.7.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="api-ref.html"><a href="api-ref.html#platform_install_isr_stack"><i class="fa fa-check"></i><b>6.8</b> <code>platform_install_isr_stack</code></a><ul>
<li class="chapter" data-level="6.8.1" data-path="api-ref.html"><a href="api-ref.html#prototype-7"><i class="fa fa-check"></i><b>6.8.1</b> Prototype</a></li>
<li class="chapter" data-level="6.8.2" data-path="api-ref.html"><a href="api-ref.html#parameters-7"><i class="fa fa-check"></i><b>6.8.2</b> Parameters</a></li>
<li class="chapter" data-level="6.8.3" data-path="api-ref.html"><a href="api-ref.html#return-value-7"><i class="fa fa-check"></i><b>6.8.3</b> Return Value</a></li>
<li class="chapter" data-level="6.8.4" data-path="api-ref.html"><a href="api-ref.html#remarks-7"><i class="fa fa-check"></i><b>6.8.4</b> Remarks</a></li>
<li class="chapter" data-level="6.8.5" data-path="api-ref.html"><a href="api-ref.html#example-7"><i class="fa fa-check"></i><b>6.8.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="api-ref.html"><a href="api-ref.html#platform_printf"><i class="fa fa-check"></i><b>6.9</b> <code>platform_printf</code></a><ul>
<li class="chapter" data-level="6.9.1" data-path="api-ref.html"><a href="api-ref.html#prototype-8"><i class="fa fa-check"></i><b>6.9.1</b> Prototype</a></li>
<li class="chapter" data-level="6.9.2" data-path="api-ref.html"><a href="api-ref.html#parameters-8"><i class="fa fa-check"></i><b>6.9.2</b> Parameters</a></li>
<li class="chapter" data-level="6.9.3" data-path="api-ref.html"><a href="api-ref.html#return-value-8"><i class="fa fa-check"></i><b>6.9.3</b> Return Value</a></li>
<li class="chapter" data-level="6.9.4" data-path="api-ref.html"><a href="api-ref.html#remarks-8"><i class="fa fa-check"></i><b>6.9.4</b> Remarks</a></li>
<li class="chapter" data-level="6.9.5" data-path="api-ref.html"><a href="api-ref.html#example-8"><i class="fa fa-check"></i><b>6.9.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="api-ref.html"><a href="api-ref.html#platform_raise_assertion"><i class="fa fa-check"></i><b>6.10</b> <code>platform_raise_assertion</code></a><ul>
<li class="chapter" data-level="6.10.1" data-path="api-ref.html"><a href="api-ref.html#prototype-9"><i class="fa fa-check"></i><b>6.10.1</b> Prototype</a></li>
<li class="chapter" data-level="6.10.2" data-path="api-ref.html"><a href="api-ref.html#parameters-9"><i class="fa fa-check"></i><b>6.10.2</b> Parameters</a></li>
<li class="chapter" data-level="6.10.3" data-path="api-ref.html"><a href="api-ref.html#return-value-9"><i class="fa fa-check"></i><b>6.10.3</b> Return Value</a></li>
<li class="chapter" data-level="6.10.4" data-path="api-ref.html"><a href="api-ref.html#remarks-9"><i class="fa fa-check"></i><b>6.10.4</b> Remarks</a></li>
<li class="chapter" data-level="6.10.5" data-path="api-ref.html"><a href="api-ref.html#example-9"><i class="fa fa-check"></i><b>6.10.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="api-ref.html"><a href="api-ref.html#platform_rand"><i class="fa fa-check"></i><b>6.11</b> <code>platform_rand</code></a><ul>
<li class="chapter" data-level="6.11.1" data-path="api-ref.html"><a href="api-ref.html#prototype-10"><i class="fa fa-check"></i><b>6.11.1</b> Prototype</a></li>
<li class="chapter" data-level="6.11.2" data-path="api-ref.html"><a href="api-ref.html#parameters-10"><i class="fa fa-check"></i><b>6.11.2</b> Parameters</a></li>
<li class="chapter" data-level="6.11.3" data-path="api-ref.html"><a href="api-ref.html#return-value-10"><i class="fa fa-check"></i><b>6.11.3</b> Return Value</a></li>
<li class="chapter" data-level="6.11.4" data-path="api-ref.html"><a href="api-ref.html#remarks-10"><i class="fa fa-check"></i><b>6.11.4</b> Remarks</a></li>
<li class="chapter" data-level="6.11.5" data-path="api-ref.html"><a href="api-ref.html#example-10"><i class="fa fa-check"></i><b>6.11.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="api-ref.html"><a href="api-ref.html#platform_read_info"><i class="fa fa-check"></i><b>6.12</b> <code>platform_read_info</code></a><ul>
<li class="chapter" data-level="6.12.1" data-path="api-ref.html"><a href="api-ref.html#prototype-11"><i class="fa fa-check"></i><b>6.12.1</b> Prototype</a></li>
<li class="chapter" data-level="6.12.2" data-path="api-ref.html"><a href="api-ref.html#parameters-11"><i class="fa fa-check"></i><b>6.12.2</b> Parameters</a></li>
<li class="chapter" data-level="6.12.3" data-path="api-ref.html"><a href="api-ref.html#return-value-11"><i class="fa fa-check"></i><b>6.12.3</b> Return Value</a></li>
<li class="chapter" data-level="6.12.4" data-path="api-ref.html"><a href="api-ref.html#remarks-11"><i class="fa fa-check"></i><b>6.12.4</b> Remarks</a></li>
<li class="chapter" data-level="6.12.5" data-path="api-ref.html"><a href="api-ref.html#example-11"><i class="fa fa-check"></i><b>6.12.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="api-ref.html"><a href="api-ref.html#platform_read_persistent_reg"><i class="fa fa-check"></i><b>6.13</b> <code>platform_read_persistent_reg</code></a><ul>
<li class="chapter" data-level="6.13.1" data-path="api-ref.html"><a href="api-ref.html#prototype-12"><i class="fa fa-check"></i><b>6.13.1</b> Prototype</a></li>
<li class="chapter" data-level="6.13.2" data-path="api-ref.html"><a href="api-ref.html#parameters-12"><i class="fa fa-check"></i><b>6.13.2</b> Parameters</a></li>
<li class="chapter" data-level="6.13.3" data-path="api-ref.html"><a href="api-ref.html#return-value-12"><i class="fa fa-check"></i><b>6.13.3</b> Return Value</a></li>
<li class="chapter" data-level="6.13.4" data-path="api-ref.html"><a href="api-ref.html#remarks-12"><i class="fa fa-check"></i><b>6.13.4</b> Remarks</a></li>
<li class="chapter" data-level="6.13.5" data-path="api-ref.html"><a href="api-ref.html#example-12"><i class="fa fa-check"></i><b>6.13.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.14" data-path="api-ref.html"><a href="api-ref.html#platform_reset"><i class="fa fa-check"></i><b>6.14</b> <code>platform_reset</code></a><ul>
<li class="chapter" data-level="6.14.1" data-path="api-ref.html"><a href="api-ref.html#prototype-13"><i class="fa fa-check"></i><b>6.14.1</b> Prototype</a></li>
<li class="chapter" data-level="6.14.2" data-path="api-ref.html"><a href="api-ref.html#parameters-13"><i class="fa fa-check"></i><b>6.14.2</b> Parameters</a></li>
<li class="chapter" data-level="6.14.3" data-path="api-ref.html"><a href="api-ref.html#return-value-13"><i class="fa fa-check"></i><b>6.14.3</b> Return Value</a></li>
<li class="chapter" data-level="6.14.4" data-path="api-ref.html"><a href="api-ref.html#remarks-13"><i class="fa fa-check"></i><b>6.14.4</b> Remarks</a></li>
<li class="chapter" data-level="6.14.5" data-path="api-ref.html"><a href="api-ref.html#example-13"><i class="fa fa-check"></i><b>6.14.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.15" data-path="api-ref.html"><a href="api-ref.html#platform_set_evt_callback"><i class="fa fa-check"></i><b>6.15</b> <code>platform_set_evt_callback</code></a><ul>
<li class="chapter" data-level="6.15.1" data-path="api-ref.html"><a href="api-ref.html#prototype-14"><i class="fa fa-check"></i><b>6.15.1</b> Prototype</a></li>
<li class="chapter" data-level="6.15.2" data-path="api-ref.html"><a href="api-ref.html#parameters-14"><i class="fa fa-check"></i><b>6.15.2</b> Parameters</a></li>
<li class="chapter" data-level="6.15.3" data-path="api-ref.html"><a href="api-ref.html#return-value-14"><i class="fa fa-check"></i><b>6.15.3</b> Return Value</a></li>
<li class="chapter" data-level="6.15.4" data-path="api-ref.html"><a href="api-ref.html#remarks-14"><i class="fa fa-check"></i><b>6.15.4</b> Remarks</a></li>
<li class="chapter" data-level="6.15.5" data-path="api-ref.html"><a href="api-ref.html#example-14"><i class="fa fa-check"></i><b>6.15.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.16" data-path="api-ref.html"><a href="api-ref.html#platform_set_irq_callback"><i class="fa fa-check"></i><b>6.16</b> <code>platform_set_irq_callback</code></a><ul>
<li class="chapter" data-level="6.16.1" data-path="api-ref.html"><a href="api-ref.html#prototype-15"><i class="fa fa-check"></i><b>6.16.1</b> Prototype</a></li>
<li class="chapter" data-level="6.16.2" data-path="api-ref.html"><a href="api-ref.html#parameters-15"><i class="fa fa-check"></i><b>6.16.2</b> Parameters</a></li>
<li class="chapter" data-level="6.16.3" data-path="api-ref.html"><a href="api-ref.html#return-value-15"><i class="fa fa-check"></i><b>6.16.3</b> Return Value</a></li>
<li class="chapter" data-level="6.16.4" data-path="api-ref.html"><a href="api-ref.html#remarks-15"><i class="fa fa-check"></i><b>6.16.4</b> Remarks</a></li>
<li class="chapter" data-level="6.16.5" data-path="api-ref.html"><a href="api-ref.html#example-15"><i class="fa fa-check"></i><b>6.16.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.17" data-path="api-ref.html"><a href="api-ref.html#platform_shutdown"><i class="fa fa-check"></i><b>6.17</b> <code>platform_shutdown</code></a><ul>
<li class="chapter" data-level="6.17.1" data-path="api-ref.html"><a href="api-ref.html#prototype-16"><i class="fa fa-check"></i><b>6.17.1</b> Prototype</a></li>
<li class="chapter" data-level="6.17.2" data-path="api-ref.html"><a href="api-ref.html#parameters-16"><i class="fa fa-check"></i><b>6.17.2</b> Parameters</a></li>
<li class="chapter" data-level="6.17.3" data-path="api-ref.html"><a href="api-ref.html#return-value-16"><i class="fa fa-check"></i><b>6.17.3</b> Return Value</a></li>
<li class="chapter" data-level="6.17.4" data-path="api-ref.html"><a href="api-ref.html#remarks-16"><i class="fa fa-check"></i><b>6.17.4</b> Remarks</a></li>
<li class="chapter" data-level="6.17.5" data-path="api-ref.html"><a href="api-ref.html#example-16"><i class="fa fa-check"></i><b>6.17.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.18" data-path="api-ref.html"><a href="api-ref.html#api-switch-app"><i class="fa fa-check"></i><b>6.18</b> <code>platform_switch_app</code></a><ul>
<li class="chapter" data-level="6.18.1" data-path="api-ref.html"><a href="api-ref.html#prototype-17"><i class="fa fa-check"></i><b>6.18.1</b> Prototype</a></li>
<li class="chapter" data-level="6.18.2" data-path="api-ref.html"><a href="api-ref.html#parameters-17"><i class="fa fa-check"></i><b>6.18.2</b> Parameters</a></li>
<li class="chapter" data-level="6.18.3" data-path="api-ref.html"><a href="api-ref.html#return-value-17"><i class="fa fa-check"></i><b>6.18.3</b> Return Value</a></li>
<li class="chapter" data-level="6.18.4" data-path="api-ref.html"><a href="api-ref.html#remarks-17"><i class="fa fa-check"></i><b>6.18.4</b> Remarks</a></li>
<li class="chapter" data-level="6.18.5" data-path="api-ref.html"><a href="api-ref.html#example-17"><i class="fa fa-check"></i><b>6.18.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.19" data-path="api-ref.html"><a href="api-ref.html#platform_write_persistent_reg"><i class="fa fa-check"></i><b>6.19</b> <code>platform_write_persistent_reg</code></a><ul>
<li class="chapter" data-level="6.19.1" data-path="api-ref.html"><a href="api-ref.html#prototype-18"><i class="fa fa-check"></i><b>6.19.1</b> Prototype</a></li>
<li class="chapter" data-level="6.19.2" data-path="api-ref.html"><a href="api-ref.html#parameters-18"><i class="fa fa-check"></i><b>6.19.2</b> Parameters</a></li>
<li class="chapter" data-level="6.19.3" data-path="api-ref.html"><a href="api-ref.html#return-value-18"><i class="fa fa-check"></i><b>6.19.3</b> Return Value</a></li>
<li class="chapter" data-level="6.19.4" data-path="api-ref.html"><a href="api-ref.html#remarks-18"><i class="fa fa-check"></i><b>6.19.4</b> Remarks</a></li>
<li class="chapter" data-level="6.19.5" data-path="api-ref.html"><a href="api-ref.html#example-18"><i class="fa fa-check"></i><b>6.19.5</b> Example</a></li>
</ul></li>
<li class="chapter" data-level="6.20" data-path="api-ref.html"><a href="api-ref.html#syssetpublicdeviceaddr"><i class="fa fa-check"></i><b>6.20</b> <code>sysSetPublicDeviceAddr</code></a><ul>
<li class="chapter" data-level="6.20.1" data-path="api-ref.html"><a href="api-ref.html#prototype-19"><i class="fa fa-check"></i><b>6.20.1</b> Prototype</a></li>
<li class="chapter" data-level="6.20.2" data-path="api-ref.html"><a href="api-ref.html#parameters-19"><i class="fa fa-check"></i><b>6.20.2</b> Parameters</a></li>
<li class="chapter" data-level="6.20.3" data-path="api-ref.html"><a href="api-ref.html#return-value-19"><i class="fa fa-check"></i><b>6.20.3</b> Return Value</a></li>
<li class="chapter" data-level="6.20.4" data-path="api-ref.html"><a href="api-ref.html#remarks-19"><i class="fa fa-check"></i><b>6.20.4</b> Remarks</a></li>
<li class="chapter" data-level="6.20.5" data-path="api-ref.html"><a href="api-ref.html#example-19"><i class="fa fa-check"></i><b>6.20.5</b> Example</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="revision-history.html"><a href="revision-history.html"><i class="fa fa-check"></i><b>7</b> Revision History</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">INGCHIPS SDK User Guide</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="core-tools" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Core Tools</h1>
<p>SDK core tools play an important role in the BLE device development.</p>
<div id="ingwizard" class="section level2">
<h2><span class="header-section-number">4.1</span> ingWizard</h2>
<p><code>ingWizard</code> is the recommended entry point in the whole development life cycle. With it,
we can create &amp; open project, edit project data, and migrate projects,
etc.</p>
<ol style="list-style-type: decimal">
<li><p>Create Project</p>
<p><code>ingWizard</code>’s new project wizard assists the creation of new projects. We can select
favourate IDE, peripheral role, edit advertising and profile data, enable FOTA and logging,
etc.</p>
<p>Once a project is created, following files are also created, used by <code>ingWizard</code> but not IDE,
and they shoule not be deleted, or <code>ingWizard</code> will not to function properly:</p>
<ul>
<li><p><code>$(ProjectName).ingw</code></p>
<p>This file shares the same name with the project with an extension <code>.ingw</code>. It contains
crucial information about the project and SDK. Without this information, it becomes
impossible to do migration.</p></li>
</ul></li>
<li><p>Advertising Data Editor</p>
<p>This editor helps us to generate advertising data. It can also be opened from main menu
<code>Tools</code> -&gt; <code>Advertising Data Editor ...</code>.</p></li>
<li><p>GATT Profile Editor (or GATT/ATT Database Editor)</p>
<p>This editor helps us to build GATT profile data. It can also be opened from main menu
<code>Tools</code> -&gt; <code>Profile Database Editor ...</code>.</p>
<p>This editor supports three type of services, SIG defined services, <em>INGChips</em> defined services
and user defined services. To add an user defined service, it must be create beforehandle
(see below).</p></li>
<li><p>Manage Custom Services</p>
<p>This editor can be opened from main menu <code>Tools</code> -&gt; <code>Manage Custom GATT Services ...</code>.
We can add, delete and edit custom services.</p>
<p>Custom Services and characteristics are all named with a prefix which is deduced from
company name initialized when installing SDK, and updatable through <code>Environment Options</code>.</p></li>
<li><p>Migration</p>
<p>In case a new version of SDK is installed, ROM and RAM used by platform might be changed, so
projects settings need to be updated accordingly. This process is automated by right click on
a project and select <code>Check &amp; Fix Settings ...</code>.</p></li>
</ol>
<div class="rmdimportant">
<p>
<em>Alway</em> remember to backup your project before perform a migration, either by committing all changes into version control system or making a full backup.
</p>
</div>
</div>
<div id="ch2-downloader" class="section level2">
<h2><span class="header-section-number">4.2</span> Downloader</h2>
<div id="introduction" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Introduction</h3>
<p>This downloader downloads up-to six images (binaries) to flash through UART connection.
It co-operate with bootloader. Bootloader can be made into flash downloading mode either by:</p>
<ul>
<li><p>Asserting boot pin (this is used in the vast majority of cases),</p></li>
<li><p>Setting entry point which is stored Flash to an invalid address.</p></li>
</ul>
<p>When 918xx is powered on, bootloader checks above conditions. If any conditions are true,
bootloader sends the handshaking message.</p>
<p>User can download any files, although typically these files are generated by IDE tools.
The load address of image (binary) must be aligned at flash page boundary. Each flash page
has <code>8192</code> (<code>0x2000</code>) bytes. Flash starts from <code>0x4000</code>, so the load address should be
<code>0x4000 + X * 0x2000</code>, where <code>X</code> is an integer. Downloader complains if the load
address is not correct. Note that when this downloader is started from <code>ingWizard</code>,
binaries have already been correctly configured.</p>
<p>Click <code>Setup UART ...</code> to configure UART (Figure <a href="core-tools.html#fig:ch2-downloader-uart-cfg">4.1</a>).
Users need to set <code>Port Number</code> to the value shown in Windows Device Manager, for example,
if “COM9” is used, then set <code>Port Number</code> to <code>COM9</code>, or simply <code>9</code>.
Baud rate can be set to a value larger than <code>115200</code>, such as <code>256000</code>, <code>512000</code>, <code>750000</code>, <code>921600</code>, etc,
to achieve a faster download speed.
The maximum supported baud rate is <code>921600</code>. Due to the limitation of internal flash characters,
there isn’t any further significant improvement for baud rate larger than <code>512000</code>.
Other fields should be left unchanged.</p>
<div class="figure" style="text-align: center"><span id="fig:ch2-downloader-uart-cfg"></span>
<img src="img/ch2-downloader-uart-cfg.png" alt="Configurate UART" width="40%" />
<p class="caption">
Figure 4.1: Configurate UART
</p>
</div>
<p>The whole downloading procedure is composed of several steps, such as downloading, verification,
set entry address, and launching app. These steps can be configured by clicking <code>Options</code>
(Figure <a href="core-tools.html#fig:ch2-downloader-options">4.2</a>).</p>
<div class="figure" style="text-align: center"><span id="fig:ch2-downloader-options"></span>
<img src="img/ch2-downloader-options.png" alt="Downloader Options" width="40%" />
<p class="caption">
Figure 4.2: Downloader Options
</p>
</div>
<p>Entry address <code>0x4000</code> equals to the load address of platform binary. If “Verify Download” is
enabled, then data will be read back and compare with origin file to ensure data is correctly
downloaded. Data blocks are CRC checked, so “Verify Download” can be kept disabled
on a regular basis.
If downloading keeps failing on specific address, then we can enable it to double check if flash
is malfunctional. In this case, when mismatch is found, read-back data will be stored to a file.</p>
<p>When “Batch” mode is enabled, downloader will keep waiting for bootloader handshaking,
and once received handshaking, downloading starts; after downloading completes, downloader will
start waiting again. When “Batch” mode is disabled, downloader will no longer wait for
handshaking after downloading completes.</p>
<p>Click <code>Start</code> to start downloading, or rather start waiting for handshaking. Bootloader sends
handshaking message only once, and if chips are already powered up, it may be too late to
receive handshaking. In this case, we can click <code>Force</code> to skip handshaking and start downloading
immediately.</p>
</div>
<div id="script-mass-prod" class="section level3">
<h3><span class="header-section-number">4.2.2</span> Scripting &amp; Mass Production</h3>
<p>This downloader supports powerful scripting, making it suitable for mass production. In the script,
two event handlers (functions) are required to be defined.</p>
<ul>
<li><p><code>OnStartRun</code></p>
<p>This event handler gets called when each round of downloading starts;</p></li>
<li><p><code>OnStartBin</code></p>
<p>This event handler gets called when a binary starts downloading. Here, binary data can be modified
on-the-fly before it is written into flash.</p></li>
</ul>
<p>When “Batch” mode is enabled, this downloader keeps a counter which is increased by <code>1</code> after downloading
finishes. This counter is shown as <code>Counter.Current</code> shown in Figure <a href="core-tools.html#fig:ch2-downloader-options">4.2</a>. There is
also a variable called <code>Counter.Limit</code>. In “Batch” mode, before a new round of downloading starts,
<code>Counter.Current</code> is checked against this limit, if it is <em>larger</em> than limit, “Batch” mode stops automatically.
For example, if <code>Counter.Current</code> and <code>Counter.Limit</code> are set to <code>10</code> and <code>13</code> respectively, then “Batch” mode will
run for <code>4</code> rounds in total, with <code>Counter.Current</code> equals to <code>10</code>, <code>11</code>, <code>12</code> and <code>13</code>. After “Batch” mode stops,
<code>Counter.Current</code> equals to <code>14</code>.</p>
<p>The language used for scripting is <em>RemObjects Pascal Script</em><a href="#fn17" class="footnote-ref" id="fnref17"><sup>17</sup></a>,
which is quite similar to <code>C</code>, and easy to develop. Below is an simple but working example, in which, the
batch round number (<code>BatchCounter</code>) is written to a fixed location in the binary.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode pascal"><code class="sourceCode pascal"><span id="cb33-1"><a href="core-tools.html#cb33-1"></a><span class="co">// we can use constants</span></span>
<span id="cb33-2"><a href="core-tools.html#cb33-2"></a><span class="kw">const</span></span>
<span id="cb33-3"><a href="core-tools.html#cb33-3"></a>  BD_ADDR_ADDR = <span class="bn">$1;</span></span>
<span id="cb33-4"><a href="core-tools.html#cb33-4"></a></span>
<span id="cb33-5"><a href="core-tools.html#cb33-5"></a><span class="co">// BatchCounter is just Counter.Current</span></span>
<span id="cb33-6"><a href="core-tools.html#cb33-6"></a><span class="kw">procedure</span> OnStartRun(<span class="kw">const</span> BatchCounter: <span class="dt">Integer</span>; <span class="kw">var</span> Abort: <span class="dt">Boolean</span>);</span>
<span id="cb33-7"><a href="core-tools.html#cb33-7"></a><span class="kw">begin</span></span>
<span id="cb33-8"><a href="core-tools.html#cb33-8"></a>  <span class="co">// Use *Print* for logging and debugging</span></span>
<span id="cb33-9"><a href="core-tools.html#cb33-9"></a>  Print(<span class="st">&#39;OnStartRun %d&#39;</span>, [BatchCounter]);</span>
<span id="cb33-10"><a href="core-tools.html#cb33-10"></a>  <span class="co">// we can abort downloading by assigning True to *Abort*</span></span>
<span id="cb33-11"><a href="core-tools.html#cb33-11"></a>  <span class="co">// Abort := True;</span></span>
<span id="cb33-12"><a href="core-tools.html#cb33-12"></a><span class="kw">end</span>;</span>
<span id="cb33-13"><a href="core-tools.html#cb33-13"></a></span>
<span id="cb33-14"><a href="core-tools.html#cb33-14"></a><span class="kw">procedure</span> OnStartBin(<span class="kw">const</span> BatchCounter, BinIndex: <span class="dt">Integer</span>;</span>
<span id="cb33-15"><a href="core-tools.html#cb33-15"></a>                     <span class="kw">var</span> Data: TBytes; <span class="kw">var</span> Abort: <span class="dt">Boolean</span>);</span>
<span id="cb33-16"><a href="core-tools.html#cb33-16"></a><span class="kw">begin</span></span>
<span id="cb33-17"><a href="core-tools.html#cb33-17"></a>  <span class="co">// </span><span class="al">Note</span><span class="co"> that BinIndex counts from 1 (not 0), just as shown on GUI</span></span>
<span id="cb33-18"><a href="core-tools.html#cb33-18"></a>  <span class="kw">if</span> BinIndex &lt;&gt; <span class="dv">2</span> <span class="kw">then</span> <span class="kw">Exit</span>;</span>
<span id="cb33-19"><a href="core-tools.html#cb33-19"></a>  <span class="co">// We can modify binary data before it is downloaded into flash</span></span>
<span id="cb33-20"><a href="core-tools.html#cb33-20"></a>  Data[BD_ADDR_ADDR + <span class="dv">0</span>] := BatchCounter <span class="kw">and</span> <span class="bn">$FF;</span></span>
<span id="cb33-21"><a href="core-tools.html#cb33-21"></a>  Data[BD_ADDR_ADDR + <span class="dv">1</span>] := (BatchCounter <span class="kw">shr</span> <span class="dv">8</span>) <span class="kw">and</span> <span class="bn">$FF;</span></span>
<span id="cb33-22"><a href="core-tools.html#cb33-22"></a>  Data[BD_ADDR_ADDR + <span class="dv">2</span>] := (BatchCounter <span class="kw">shr</span> <span class="dv">8</span>) <span class="kw">and</span> <span class="bn">$FF;</span></span>
<span id="cb33-23"><a href="core-tools.html#cb33-23"></a><span class="kw">end</span>;</span></code></pre></div>
</div>
<div id="flash-read-protection" class="section level3">
<h3><span class="header-section-number">4.2.3</span> Flash Read Protection</h3>
<p>To protect illegal access of data &amp; program stored in flash, 918xx has a read-protection
mechanism. Once read-protection is enabled, JTAG/SW and this downloader can not be able
to access flash any more. To re-enable JTAG/SW debugging functionality and downloading,
the read-protection must be turned off by a procedure called <em>unlock</em>. Flash data is
erased in this procedure.</p>
<p>Once the app is ready to ship, and it is decided that data &amp; program must be protected
from illegal access, just enable “Read Protection” as shown in Figure <a href="core-tools.html#fig:ch2-downloader-options">4.2</a>. To download program into a read protected, check
<code>Unlock Before Download</code> option. As flash data is erased during <em>unlocking</em>, do not
forget to re-download <code>platform</code> binary.</p>
<p>All configurations are stored in an <em>ini</em> file.</p>
</div>
<div id="python-version" class="section level3">
<h3><span class="header-section-number">4.2.4</span> Python Version</h3>
<p>SDK also provides a Python version downloader (<em>icsdw.py</em>). It’s open source and easy to be integrated
with other tools.</p>
<p>This version is written in Python 3. It uses
<code>PySerial</code><a href="#fn18" class="footnote-ref" id="fnref18"><sup>18</sup></a>
package to access serial port,
so run “<code>pip install pyserial</code>” to install the package.</p>
<p>Python downloader shares the same <em>ini</em> file with only one exception: Scripting. The GUI
downloader stores <em>RemObjects Pascal</em> source code with key named “<em>script</em>” in section “<em>options</em>”,
while the python version stores the path to a user module. The path can be a full
path or a relative path (relative to the location of the <em>ini</em> file).</p>
<p>In the user module,
two methods are required to be defined to handle events as in the GUI downloader,
<code>on_start_run</code> &amp; <code>on_start_bin</code>. Below is an example, in which, the
batch round number (<code>batch_counter</code>) is written to a fixed location in #2 binary.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="core-tools.html#cb34-1"></a><span class="co"># return abort_flag</span></span>
<span id="cb34-2"><a href="core-tools.html#cb34-2"></a><span class="kw">def</span> on_start_run(batch_counter: <span class="bu">int</span>):</span>
<span id="cb34-3"><a href="core-tools.html#cb34-3"></a>    <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb34-4"><a href="core-tools.html#cb34-4"></a></span>
<span id="cb34-5"><a href="core-tools.html#cb34-5"></a><span class="co"># return abort_flag, new_data</span></span>
<span id="cb34-6"><a href="core-tools.html#cb34-6"></a><span class="kw">def</span> on_start_bin(batch_counter: <span class="bu">int</span>, bin_index: <span class="bu">int</span>, data: <span class="bu">bytes</span>):</span>
<span id="cb34-7"><a href="core-tools.html#cb34-7"></a>    <span class="cf">if</span> bin_index <span class="op">!=</span> <span class="dv">2</span>:</span>
<span id="cb34-8"><a href="core-tools.html#cb34-8"></a>        <span class="cf">return</span> <span class="va">False</span>, data</span>
<span id="cb34-9"><a href="core-tools.html#cb34-9"></a>    ba <span class="op">=</span> <span class="bu">bytearray</span>(data)</span>
<span id="cb34-10"><a href="core-tools.html#cb34-10"></a>    addr <span class="op">=</span> batch_counter.to_bytes(<span class="dv">4</span>, <span class="st">&#39;little&#39;</span>)</span>
<span id="cb34-11"><a href="core-tools.html#cb34-11"></a>    ba[<span class="dv">1</span>:<span class="dv">5</span>] <span class="op">=</span> addr</span>
<span id="cb34-12"><a href="core-tools.html#cb34-12"></a>    <span class="cf">return</span> <span class="va">False</span>, <span class="bu">bytes</span>(ba)</span></code></pre></div>
</div>
</div>
<div id="ingtracer" class="section level2">
<h2><span class="header-section-number">4.3</span> ingTracer</h2>
<p><code>ingTracer</code> is the visual tool for inspecting recorded Trace data introduced in
<a href="dive-into-sdk.html#debugging-tracing">Debugging &amp; Tracing</a>.</p>
<p>To limit items drawn on screen, <code>ingTracer</code> breaks trace data into frames. Each frame has
a length of 5sec. When a frame is selected, besides the current frame, the previous and the
next one are also shown for continuity.</p>
<div class="figure" style="text-align: center"><span id="fig:ch2-tracer-main"></span>
<img src="img/ch2-tracer-main.png" alt="ingTracer Main UI" width="85%" />
<p class="caption">
Figure 4.3: ingTracer Main UI
</p>
</div>
<p><strong>Graph</strong> shows all trace data visually. By clicking an item in <strong>Graph</strong>,
detailed information is decoded
and shown in <strong>Message Decoder</strong> and <strong>Message Hex Viewer</strong>. <strong>Graph</strong> supports some of
CAD operations, such as zooming, panning, measuring, etc. Checkout menu <code>Help</code> -&gt; <code>About</code> for
detailed information. (Figure <a href="core-tools.html#fig:ch2-tracer-main">4.3</a>)</p>
<div class="figure" style="text-align: center"><span id="fig:ch2-tracer-msc"></span>
<img src="img/ch2-tracer-msc.png" alt="MSC Generated by ingTracer" width="85%" />
<p class="caption">
Figure 4.4: MSC Generated by ingTracer
</p>
</div>
<p>To help analyzing app &amp; high layer issues, <code>ingTrace</code> can generate MSC (message sequence
chart) for
each connection. While <strong>Graph</strong> emphasizes on timing between events, MSC emphasizes on
procedure and fits better for protocol analysis. Message can be decoded by clicking on
the <code>[+]</code> mark (Figure <a href="core-tools.html#fig:ch2-tracer-msc">4.4</a>).</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="17">
<li id="fn17"><p><a href="https://github.com/remobjects/pascalscript" class="uri">https://github.com/remobjects/pascalscript</a><a href="core-tools.html#fnref17" class="footnote-back">↩︎</a></p></li>
<li id="fn18"><p><a href="https://pypi.org/project/pyserial/" class="uri">https://pypi.org/project/pyserial/</a><a href="core-tools.html#fnref18" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tutorial.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dive-into-sdk.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["user_guide.pdf", "user_guide.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
