<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>4 核心工具 | INGCHIPS SDK 开发者用户手册</title>
  <meta name="description" content="本文是 INGCHIPS SDK 的开发者用户手册。" />
  <meta name="generator" content="bookdown 0.32 and GitBook 2.6.7" />

  <meta property="og:title" content="4 核心工具 | INGCHIPS SDK 开发者用户手册" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="/./img/sdk_overview.png" />
  <meta property="og:description" content="本文是 INGCHIPS SDK 的开发者用户手册。" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="4 核心工具 | INGCHIPS SDK 开发者用户手册" />
  
  <meta name="twitter:description" content="本文是 INGCHIPS SDK 的开发者用户手册。" />
  <meta name="twitter:image" content="/./img/sdk_overview.png" />

<meta name="author" content="Ingchips Technology Co., Ltd." />


<meta name="date" content="2023-10-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="tutorial.html"/>
<link rel="next" href="dive-into-sdk.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">User Guide</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> 欢迎</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> 简介</a>
<ul>
<li class="chapter" data-level="2.1" data-path="intro.html"><a href="intro.html#范围"><i class="fa fa-check"></i><b>2.1</b> 范围</a></li>
<li class="chapter" data-level="2.2" data-path="intro.html"><a href="intro.html#架构"><i class="fa fa-check"></i><b>2.2</b> 架构</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="intro.html"><a href="intro.html#rtos-软件包"><i class="fa fa-check"></i><b>2.2.1</b> RTOS 软件包</a></li>
<li class="chapter" data-level="2.2.2" data-path="intro.html"><a href="intro.html#noos-软件包"><i class="fa fa-check"></i><b>2.2.2</b> “NoOS” 软件包</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="intro.html"><a href="intro.html#缩略语和术语"><i class="fa fa-check"></i><b>2.3</b> 缩略语和术语</a></li>
<li class="chapter" data-level="2.4" data-path="intro.html"><a href="intro.html#参考资料"><i class="fa fa-check"></i><b>2.4</b> 参考资料</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="tutorial.html"><a href="tutorial.html"><i class="fa fa-check"></i><b>3</b> 教程</a>
<ul>
<li class="chapter" data-level="3.1" data-path="tutorial.html"><a href="tutorial.html#ch1-hello-world"><i class="fa fa-check"></i><b>3.1</b> 世界你好</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="tutorial.html"><a href="tutorial.html#development-tool-页面"><i class="fa fa-check"></i><b>3.1.1</b> <code>Development Tool</code> 页面</a></li>
<li class="chapter" data-level="3.1.2" data-path="tutorial.html"><a href="tutorial.html#choose-chip-series-页面"><i class="fa fa-check"></i><b>3.1.2</b> <code>Choose Chip Series</code> 页面</a></li>
<li class="chapter" data-level="3.1.3" data-path="tutorial.html"><a href="tutorial.html#choose-project-type-页面"><i class="fa fa-check"></i><b>3.1.3</b> <code>Choose Project Type</code> 页面</a></li>
<li class="chapter" data-level="3.1.4" data-path="tutorial.html"><a href="tutorial.html#role-of-your-device-页面"><i class="fa fa-check"></i><b>3.1.4</b> <code>Role of Your Device</code> 页面</a></li>
<li class="chapter" data-level="3.1.5" data-path="tutorial.html"><a href="tutorial.html#peripheral-setup-页面"><i class="fa fa-check"></i><b>3.1.5</b> <code>Peripheral Setup</code> 页面</a></li>
<li class="chapter" data-level="3.1.6" data-path="tutorial.html"><a href="tutorial.html#security-privacy-页面"><i class="fa fa-check"></i><b>3.1.6</b> <code>Security &amp; Privacy</code> 页面</a></li>
<li class="chapter" data-level="3.1.7" data-path="tutorial.html"><a href="tutorial.html#firmare-over-the-air-页面"><i class="fa fa-check"></i><b>3.1.7</b> <code>Firmare Over-The-Air</code> 页面</a></li>
<li class="chapter" data-level="3.1.8" data-path="tutorial.html"><a href="tutorial.html#common-functions-页面"><i class="fa fa-check"></i><b>3.1.8</b> <code>Common Functions</code> 页面</a></li>
<li class="chapter" data-level="3.1.9" data-path="tutorial.html"><a href="tutorial.html#编译您的项目"><i class="fa fa-check"></i><b>3.1.9</b> 编译您的项目</a></li>
<li class="chapter" data-level="3.1.10" data-path="tutorial.html"><a href="tutorial.html#下载"><i class="fa fa-check"></i><b>3.1.10</b> 下载</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="tutorial.html"><a href="tutorial.html#ibeacon"><i class="fa fa-check"></i><b>3.2</b> iBeacon</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="tutorial.html"><a href="tutorial.html#建立广播数据"><i class="fa fa-check"></i><b>3.2.1</b> 建立广播数据</a></li>
<li class="chapter" data-level="3.2.2" data-path="tutorial.html"><a href="tutorial.html#尝试应用"><i class="fa fa-check"></i><b>3.2.2</b> 尝试应用</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="tutorial.html"><a href="tutorial.html#温度计"><i class="fa fa-check"></i><b>3.3</b> 温度计</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="tutorial.html"><a href="tutorial.html#建立广播数据-1"><i class="fa fa-check"></i><b>3.3.1</b> 建立广播数据</a></li>
<li class="chapter" data-level="3.3.2" data-path="tutorial.html"><a href="tutorial.html#建立gatt配置文件"><i class="fa fa-check"></i><b>3.3.2</b> 建立GATT配置文件</a></li>
<li class="chapter" data-level="3.3.3" data-path="tutorial.html"><a href="tutorial.html#代码编写"><i class="fa fa-check"></i><b>3.3.3</b> 代码编写</a></li>
<li class="chapter" data-level="3.3.4" data-path="tutorial.html"><a href="tutorial.html#通知"><i class="fa fa-check"></i><b>3.3.4</b> 通知</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="tutorial.html"><a href="tutorial.html#fota温度计"><i class="fa fa-check"></i><b>3.4</b> FOTA温度计</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="tutorial.html"><a href="tutorial.html#fota设备"><i class="fa fa-check"></i><b>3.4.1</b> FOTA设备</a></li>
<li class="chapter" data-level="3.4.2" data-path="tutorial.html"><a href="tutorial.html#创建一个新版本"><i class="fa fa-check"></i><b>3.4.2</b> 创建一个新版本</a></li>
<li class="chapter" data-level="3.4.3" data-path="tutorial.html"><a href="tutorial.html#fota服务器"><i class="fa fa-check"></i><b>3.4.3</b> FOTA服务器</a></li>
<li class="chapter" data-level="3.4.4" data-path="tutorial.html"><a href="tutorial.html#尝试应用-1"><i class="fa fa-check"></i><b>3.4.4</b> 尝试应用</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="tutorial.html"><a href="tutorial.html#ibeacon扫描设备"><i class="fa fa-check"></i><b>3.5</b> iBeacon扫描设备</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="tutorial.html"><a href="tutorial.html#估算距离"><i class="fa fa-check"></i><b>3.5.1</b> 估算距离</a></li>
<li class="chapter" data-level="3.5.2" data-path="tutorial.html"><a href="tutorial.html#并发广播扫描"><i class="fa fa-check"></i><b>3.5.2</b> 并发广播&amp;扫描</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="tutorial.html"><a href="tutorial.html#通知指示"><i class="fa fa-check"></i><b>3.6</b> 通知&amp;指示</a>
<ul>
<li class="chapter" data-level="3.6.1" data-path="tutorial.html"><a href="tutorial.html#inter-task-comm"><i class="fa fa-check"></i><b>3.6.1</b> 任务间通信</a></li>
<li class="chapter" data-level="3.6.2" data-path="tutorial.html"><a href="tutorial.html#定时器"><i class="fa fa-check"></i><b>3.6.2</b> 定时器</a></li>
</ul></li>
<li class="chapter" data-level="3.7" data-path="tutorial.html"><a href="tutorial.html#吞吐量"><i class="fa fa-check"></i><b>3.7</b> 吞吐量</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="tutorial.html"><a href="tutorial.html#理论峰值吞吐量"><i class="fa fa-check"></i><b>3.7.1</b> 理论峰值吞吐量</a></li>
<li class="chapter" data-level="3.7.2" data-path="tutorial.html"><a href="tutorial.html#测试吞吐量"><i class="fa fa-check"></i><b>3.7.2</b> 测试吞吐量</a></li>
</ul></li>
<li class="chapter" data-level="3.8" data-path="tutorial.html"><a href="tutorial.html#双角色-ble网关"><i class="fa fa-check"></i><b>3.8</b> 双角色 &amp; BLE网关</a>
<ul>
<li class="chapter" data-level="3.8.1" data-path="tutorial.html"><a href="tutorial.html#用-ingwizard-创建一个外设app"><i class="fa fa-check"></i><b>3.8.1</b> 用 <code>ingWizard</code> 创建一个外设APP</a></li>
<li class="chapter" data-level="3.8.2" data-path="tutorial.html"><a href="tutorial.html#定义温度计数据"><i class="fa fa-check"></i><b>3.8.2</b> 定义温度计数据</a></li>
<li class="chapter" data-level="3.8.3" data-path="tutorial.html"><a href="tutorial.html#扫描温度计"><i class="fa fa-check"></i><b>3.8.3</b> 扫描温度计</a></li>
<li class="chapter" data-level="3.8.4" data-path="tutorial.html"><a href="tutorial.html#发现服务"><i class="fa fa-check"></i><b>3.8.4</b> 发现服务</a></li>
<li class="chapter" data-level="3.8.5" data-path="tutorial.html"><a href="tutorial.html#数据处理"><i class="fa fa-check"></i><b>3.8.5</b> 数据处理</a></li>
<li class="chapter" data-level="3.8.6" data-path="tutorial.html"><a href="tutorial.html#鲁棒性"><i class="fa fa-check"></i><b>3.8.6</b> 鲁棒性</a></li>
<li class="chapter" data-level="3.8.7" data-path="tutorial.html"><a href="tutorial.html#准备温度计"><i class="fa fa-check"></i><b>3.8.7</b> 准备温度计</a></li>
<li class="chapter" data-level="3.8.8" data-path="tutorial.html"><a href="tutorial.html#测试"><i class="fa fa-check"></i><b>3.8.8</b> 测试</a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="tutorial.html"><a href="tutorial.html#hello-nim"><i class="fa fa-check"></i><b>3.9</b> Hello, Nim</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="tutorial.html"><a href="tutorial.html#创建一个-nim-app"><i class="fa fa-check"></i><b>3.9.1</b> 创建一个 <code>Nim</code> APP</a></li>
<li class="chapter" data-level="3.9.2" data-path="tutorial.html"><a href="tutorial.html#创建广播数据"><i class="fa fa-check"></i><b>3.9.2</b> 创建广播数据</a></li>
<li class="chapter" data-level="3.9.3" data-path="tutorial.html"><a href="tutorial.html#创建配置数据"><i class="fa fa-check"></i><b>3.9.3</b> 创建配置数据</a></li>
<li class="chapter" data-level="3.9.4" data-path="tutorial.html"><a href="tutorial.html#使用-nim-的好处"><i class="fa fa-check"></i><b>3.9.4</b> 使用 <code>Nim</code> 的好处</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="core-tools.html"><a href="core-tools.html"><i class="fa fa-check"></i><b>4</b> 核心工具</a>
<ul>
<li class="chapter" data-level="4.1" data-path="core-tools.html"><a href="core-tools.html#向导"><i class="fa fa-check"></i><b>4.1</b> 向导</a></li>
<li class="chapter" data-level="4.2" data-path="core-tools.html"><a href="core-tools.html#ch2-downloader"><i class="fa fa-check"></i><b>4.2</b> 下载器</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="core-tools.html"><a href="core-tools.html#介绍"><i class="fa fa-check"></i><b>4.2.1</b> 介绍</a></li>
<li class="chapter" data-level="4.2.2" data-path="core-tools.html"><a href="core-tools.html#script-mass-prod"><i class="fa fa-check"></i><b>4.2.2</b> 脚本与量产</a></li>
<li class="chapter" data-level="4.2.3" data-path="core-tools.html"><a href="core-tools.html#flash-读保护适用于-ing918xx"><i class="fa fa-check"></i><b>4.2.3</b> Flash 读保护（适用于 ING918xx）</a></li>
<li class="chapter" data-level="4.2.4" data-path="core-tools.html"><a href="core-tools.html#python-版本"><i class="fa fa-check"></i><b>4.2.4</b> Python 版本</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="core-tools.html"><a href="core-tools.html#ingtracer"><i class="fa fa-check"></i><b>4.3</b> Trace 工具</a></li>
<li class="chapter" data-level="4.4" data-path="core-tools.html"><a href="core-tools.html#ch2-axf-tool"><i class="fa fa-check"></i><b>4.4</b> Axf Tool</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html"><i class="fa fa-check"></i><b>5</b> 深入 SDK</a>
<ul>
<li class="chapter" data-level="5.1" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#内存管理"><i class="fa fa-check"></i><b>5.1</b> 内存管理</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#全局分配"><i class="fa fa-check"></i><b>5.1.1</b> 全局分配</a></li>
<li class="chapter" data-level="5.1.2" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#使用栈"><i class="fa fa-check"></i><b>5.1.2</b> 使用栈</a></li>
<li class="chapter" data-level="5.1.3" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#使用堆"><i class="fa fa-check"></i><b>5.1.3</b> 使用堆</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#多任务"><i class="fa fa-check"></i><b>5.2</b> 多任务</a></li>
<li class="chapter" data-level="5.3" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#中断管理"><i class="fa fa-check"></i><b>5.3</b> 中断管理</a></li>
<li class="chapter" data-level="5.4" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#功耗管理"><i class="fa fa-check"></i><b>5.4</b> 功耗管理</a></li>
<li class="chapter" data-level="5.5" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#cmsis-api"><i class="fa fa-check"></i><b>5.5</b> CMSIS API</a></li>
<li class="chapter" data-level="5.6" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#debugging-tracing"><i class="fa fa-check"></i><b>5.6</b> 调试与跟踪</a>
<ul>
<li class="chapter" data-level="5.6.1" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#有关-segger-rtt-的使用提示"><i class="fa fa-check"></i><b>5.6.1</b> 有关 SEGGER RTT 的使用提示</a></li>
<li class="chapter" data-level="5.6.2" data-path="dive-into-sdk.html"><a href="dive-into-sdk.html#内存转储"><i class="fa fa-check"></i><b>5.6.2</b> 内存转储</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="api-ref.html"><a href="api-ref.html"><i class="fa fa-check"></i><b>6</b> Platform API 参考</a>
<ul>
<li class="chapter" data-level="6.1" data-path="api-ref.html"><a href="api-ref.html#platform_32k_rc_auto_tune"><i class="fa fa-check"></i><b>6.1</b> <code>platform_32k_rc_auto_tune</code></a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="api-ref.html"><a href="api-ref.html#原型"><i class="fa fa-check"></i><b>6.1.1</b> 原型</a></li>
<li class="chapter" data-level="6.1.2" data-path="api-ref.html"><a href="api-ref.html#参数表"><i class="fa fa-check"></i><b>6.1.2</b> 参数表</a></li>
<li class="chapter" data-level="6.1.3" data-path="api-ref.html"><a href="api-ref.html#返回值"><i class="fa fa-check"></i><b>6.1.3</b> 返回值</a></li>
<li class="chapter" data-level="6.1.4" data-path="api-ref.html"><a href="api-ref.html#备注"><i class="fa fa-check"></i><b>6.1.4</b> 备注</a></li>
<li class="chapter" data-level="6.1.5" data-path="api-ref.html"><a href="api-ref.html#示例"><i class="fa fa-check"></i><b>6.1.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="api-ref.html"><a href="api-ref.html#platform_32k_rc_tune"><i class="fa fa-check"></i><b>6.2</b> <code>platform_32k_rc_tune</code></a>
<ul>
<li class="chapter" data-level="6.2.1" data-path="api-ref.html"><a href="api-ref.html#原型-1"><i class="fa fa-check"></i><b>6.2.1</b> 原型</a></li>
<li class="chapter" data-level="6.2.2" data-path="api-ref.html"><a href="api-ref.html#参数表-1"><i class="fa fa-check"></i><b>6.2.2</b> 参数表</a></li>
<li class="chapter" data-level="6.2.3" data-path="api-ref.html"><a href="api-ref.html#返回值-1"><i class="fa fa-check"></i><b>6.2.3</b> 返回值</a></li>
<li class="chapter" data-level="6.2.4" data-path="api-ref.html"><a href="api-ref.html#备注-1"><i class="fa fa-check"></i><b>6.2.4</b> 备注</a></li>
<li class="chapter" data-level="6.2.5" data-path="api-ref.html"><a href="api-ref.html#示例-1"><i class="fa fa-check"></i><b>6.2.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="api-ref.html"><a href="api-ref.html#platform_config"><i class="fa fa-check"></i><b>6.3</b> <code>platform_config</code></a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="api-ref.html"><a href="api-ref.html#原型-2"><i class="fa fa-check"></i><b>6.3.1</b> 原型</a></li>
<li class="chapter" data-level="6.3.2" data-path="api-ref.html"><a href="api-ref.html#参数表-2"><i class="fa fa-check"></i><b>6.3.2</b> 参数表</a></li>
<li class="chapter" data-level="6.3.3" data-path="api-ref.html"><a href="api-ref.html#返回值-2"><i class="fa fa-check"></i><b>6.3.3</b> 返回值</a></li>
<li class="chapter" data-level="6.3.4" data-path="api-ref.html"><a href="api-ref.html#备注-2"><i class="fa fa-check"></i><b>6.3.4</b> 备注</a></li>
<li class="chapter" data-level="6.3.5" data-path="api-ref.html"><a href="api-ref.html#示例-2"><i class="fa fa-check"></i><b>6.3.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.4" data-path="api-ref.html"><a href="api-ref.html#platform_get_heap_status"><i class="fa fa-check"></i><b>6.4</b> <code>platform_get_heap_status</code></a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="api-ref.html"><a href="api-ref.html#原型-3"><i class="fa fa-check"></i><b>6.4.1</b> 原型</a></li>
<li class="chapter" data-level="6.4.2" data-path="api-ref.html"><a href="api-ref.html#参数表-3"><i class="fa fa-check"></i><b>6.4.2</b> 参数表</a></li>
<li class="chapter" data-level="6.4.3" data-path="api-ref.html"><a href="api-ref.html#返回值-3"><i class="fa fa-check"></i><b>6.4.3</b> 返回值</a></li>
<li class="chapter" data-level="6.4.4" data-path="api-ref.html"><a href="api-ref.html#备注-3"><i class="fa fa-check"></i><b>6.4.4</b> 备注</a></li>
<li class="chapter" data-level="6.4.5" data-path="api-ref.html"><a href="api-ref.html#示例-3"><i class="fa fa-check"></i><b>6.4.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="api-ref.html"><a href="api-ref.html#platform_get_us_time"><i class="fa fa-check"></i><b>6.5</b> <code>platform_get_us_time</code></a>
<ul>
<li class="chapter" data-level="6.5.1" data-path="api-ref.html"><a href="api-ref.html#原型-4"><i class="fa fa-check"></i><b>6.5.1</b> 原型</a></li>
<li class="chapter" data-level="6.5.2" data-path="api-ref.html"><a href="api-ref.html#参数表-4"><i class="fa fa-check"></i><b>6.5.2</b> 参数表</a></li>
<li class="chapter" data-level="6.5.3" data-path="api-ref.html"><a href="api-ref.html#返回值-4"><i class="fa fa-check"></i><b>6.5.3</b> 返回值</a></li>
<li class="chapter" data-level="6.5.4" data-path="api-ref.html"><a href="api-ref.html#备注-4"><i class="fa fa-check"></i><b>6.5.4</b> 备注</a></li>
<li class="chapter" data-level="6.5.5" data-path="api-ref.html"><a href="api-ref.html#示例-4"><i class="fa fa-check"></i><b>6.5.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="api-ref.html"><a href="api-ref.html#platform_get_version"><i class="fa fa-check"></i><b>6.6</b> <code>platform_get_version</code></a>
<ul>
<li class="chapter" data-level="6.6.1" data-path="api-ref.html"><a href="api-ref.html#原型-5"><i class="fa fa-check"></i><b>6.6.1</b> 原型</a></li>
<li class="chapter" data-level="6.6.2" data-path="api-ref.html"><a href="api-ref.html#参数表-5"><i class="fa fa-check"></i><b>6.6.2</b> 参数表</a></li>
<li class="chapter" data-level="6.6.3" data-path="api-ref.html"><a href="api-ref.html#返回值-5"><i class="fa fa-check"></i><b>6.6.3</b> 返回值</a></li>
<li class="chapter" data-level="6.6.4" data-path="api-ref.html"><a href="api-ref.html#备注-5"><i class="fa fa-check"></i><b>6.6.4</b> 备注</a></li>
<li class="chapter" data-level="6.6.5" data-path="api-ref.html"><a href="api-ref.html#示例-5"><i class="fa fa-check"></i><b>6.6.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="api-ref.html"><a href="api-ref.html#platform_hrng"><i class="fa fa-check"></i><b>6.7</b> <code>platform_hrng</code></a>
<ul>
<li class="chapter" data-level="6.7.1" data-path="api-ref.html"><a href="api-ref.html#原型-6"><i class="fa fa-check"></i><b>6.7.1</b> 原型</a></li>
<li class="chapter" data-level="6.7.2" data-path="api-ref.html"><a href="api-ref.html#参数表-6"><i class="fa fa-check"></i><b>6.7.2</b> 参数表</a></li>
<li class="chapter" data-level="6.7.3" data-path="api-ref.html"><a href="api-ref.html#返回值-6"><i class="fa fa-check"></i><b>6.7.3</b> 返回值</a></li>
<li class="chapter" data-level="6.7.4" data-path="api-ref.html"><a href="api-ref.html#备注-6"><i class="fa fa-check"></i><b>6.7.4</b> 备注</a></li>
<li class="chapter" data-level="6.7.5" data-path="api-ref.html"><a href="api-ref.html#示例-6"><i class="fa fa-check"></i><b>6.7.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.8" data-path="api-ref.html"><a href="api-ref.html#platform_install_isr_stack"><i class="fa fa-check"></i><b>6.8</b> <code>platform_install_isr_stack</code></a>
<ul>
<li class="chapter" data-level="6.8.1" data-path="api-ref.html"><a href="api-ref.html#原型-7"><i class="fa fa-check"></i><b>6.8.1</b> 原型</a></li>
<li class="chapter" data-level="6.8.2" data-path="api-ref.html"><a href="api-ref.html#参数表-7"><i class="fa fa-check"></i><b>6.8.2</b> 参数表</a></li>
<li class="chapter" data-level="6.8.3" data-path="api-ref.html"><a href="api-ref.html#返回值-7"><i class="fa fa-check"></i><b>6.8.3</b> 返回值</a></li>
<li class="chapter" data-level="6.8.4" data-path="api-ref.html"><a href="api-ref.html#备注-7"><i class="fa fa-check"></i><b>6.8.4</b> 备注</a></li>
<li class="chapter" data-level="6.8.5" data-path="api-ref.html"><a href="api-ref.html#示例-7"><i class="fa fa-check"></i><b>6.8.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.9" data-path="api-ref.html"><a href="api-ref.html#platform_printf"><i class="fa fa-check"></i><b>6.9</b> <code>platform_printf</code></a>
<ul>
<li class="chapter" data-level="6.9.1" data-path="api-ref.html"><a href="api-ref.html#原型-8"><i class="fa fa-check"></i><b>6.9.1</b> 原型</a></li>
<li class="chapter" data-level="6.9.2" data-path="api-ref.html"><a href="api-ref.html#参数表-8"><i class="fa fa-check"></i><b>6.9.2</b> 参数表</a></li>
<li class="chapter" data-level="6.9.3" data-path="api-ref.html"><a href="api-ref.html#返回值-8"><i class="fa fa-check"></i><b>6.9.3</b> 返回值</a></li>
<li class="chapter" data-level="6.9.4" data-path="api-ref.html"><a href="api-ref.html#备注-8"><i class="fa fa-check"></i><b>6.9.4</b> 备注</a></li>
<li class="chapter" data-level="6.9.5" data-path="api-ref.html"><a href="api-ref.html#示例-8"><i class="fa fa-check"></i><b>6.9.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.10" data-path="api-ref.html"><a href="api-ref.html#platform_raise_assertion"><i class="fa fa-check"></i><b>6.10</b> <code>platform_raise_assertion</code></a>
<ul>
<li class="chapter" data-level="6.10.1" data-path="api-ref.html"><a href="api-ref.html#原型-9"><i class="fa fa-check"></i><b>6.10.1</b> 原型</a></li>
<li class="chapter" data-level="6.10.2" data-path="api-ref.html"><a href="api-ref.html#参数表-9"><i class="fa fa-check"></i><b>6.10.2</b> 参数表</a></li>
<li class="chapter" data-level="6.10.3" data-path="api-ref.html"><a href="api-ref.html#返回值-9"><i class="fa fa-check"></i><b>6.10.3</b> 返回值</a></li>
<li class="chapter" data-level="6.10.4" data-path="api-ref.html"><a href="api-ref.html#备注-9"><i class="fa fa-check"></i><b>6.10.4</b> 备注</a></li>
<li class="chapter" data-level="6.10.5" data-path="api-ref.html"><a href="api-ref.html#示例-9"><i class="fa fa-check"></i><b>6.10.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.11" data-path="api-ref.html"><a href="api-ref.html#platform_rand"><i class="fa fa-check"></i><b>6.11</b> <code>platform_rand</code></a>
<ul>
<li class="chapter" data-level="6.11.1" data-path="api-ref.html"><a href="api-ref.html#原型-10"><i class="fa fa-check"></i><b>6.11.1</b> 原型</a></li>
<li class="chapter" data-level="6.11.2" data-path="api-ref.html"><a href="api-ref.html#参数表-10"><i class="fa fa-check"></i><b>6.11.2</b> 参数表</a></li>
<li class="chapter" data-level="6.11.3" data-path="api-ref.html"><a href="api-ref.html#返回值-10"><i class="fa fa-check"></i><b>6.11.3</b> 返回值</a></li>
<li class="chapter" data-level="6.11.4" data-path="api-ref.html"><a href="api-ref.html#备注-10"><i class="fa fa-check"></i><b>6.11.4</b> 备注</a></li>
<li class="chapter" data-level="6.11.5" data-path="api-ref.html"><a href="api-ref.html#示例-10"><i class="fa fa-check"></i><b>6.11.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.12" data-path="api-ref.html"><a href="api-ref.html#platform_read_info"><i class="fa fa-check"></i><b>6.12</b> <code>platform_read_info</code></a>
<ul>
<li class="chapter" data-level="6.12.1" data-path="api-ref.html"><a href="api-ref.html#原型-11"><i class="fa fa-check"></i><b>6.12.1</b> 原型</a></li>
<li class="chapter" data-level="6.12.2" data-path="api-ref.html"><a href="api-ref.html#参数表-11"><i class="fa fa-check"></i><b>6.12.2</b> 参数表</a></li>
<li class="chapter" data-level="6.12.3" data-path="api-ref.html"><a href="api-ref.html#返回值-11"><i class="fa fa-check"></i><b>6.12.3</b> 返回值</a></li>
<li class="chapter" data-level="6.12.4" data-path="api-ref.html"><a href="api-ref.html#备注-11"><i class="fa fa-check"></i><b>6.12.4</b> 备注</a></li>
<li class="chapter" data-level="6.12.5" data-path="api-ref.html"><a href="api-ref.html#示例-11"><i class="fa fa-check"></i><b>6.12.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.13" data-path="api-ref.html"><a href="api-ref.html#platform_read_persistent_reg"><i class="fa fa-check"></i><b>6.13</b> <code>platform_read_persistent_reg</code></a>
<ul>
<li class="chapter" data-level="6.13.1" data-path="api-ref.html"><a href="api-ref.html#原型-12"><i class="fa fa-check"></i><b>6.13.1</b> 原型</a></li>
<li class="chapter" data-level="6.13.2" data-path="api-ref.html"><a href="api-ref.html#参数表-12"><i class="fa fa-check"></i><b>6.13.2</b> 参数表</a></li>
<li class="chapter" data-level="6.13.3" data-path="api-ref.html"><a href="api-ref.html#返回值-12"><i class="fa fa-check"></i><b>6.13.3</b> 返回值</a></li>
<li class="chapter" data-level="6.13.4" data-path="api-ref.html"><a href="api-ref.html#备注-12"><i class="fa fa-check"></i><b>6.13.4</b> 备注</a></li>
<li class="chapter" data-level="6.13.5" data-path="api-ref.html"><a href="api-ref.html#示例-12"><i class="fa fa-check"></i><b>6.13.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.14" data-path="api-ref.html"><a href="api-ref.html#platform_reset"><i class="fa fa-check"></i><b>6.14</b> <code>platform_reset</code></a>
<ul>
<li class="chapter" data-level="6.14.1" data-path="api-ref.html"><a href="api-ref.html#原型-13"><i class="fa fa-check"></i><b>6.14.1</b> 原型</a></li>
<li class="chapter" data-level="6.14.2" data-path="api-ref.html"><a href="api-ref.html#参数表-13"><i class="fa fa-check"></i><b>6.14.2</b> 参数表</a></li>
<li class="chapter" data-level="6.14.3" data-path="api-ref.html"><a href="api-ref.html#返回值-13"><i class="fa fa-check"></i><b>6.14.3</b> 返回值</a></li>
<li class="chapter" data-level="6.14.4" data-path="api-ref.html"><a href="api-ref.html#备注-13"><i class="fa fa-check"></i><b>6.14.4</b> 备注</a></li>
<li class="chapter" data-level="6.14.5" data-path="api-ref.html"><a href="api-ref.html#示例-13"><i class="fa fa-check"></i><b>6.14.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.15" data-path="api-ref.html"><a href="api-ref.html#platform_set_evt_callback"><i class="fa fa-check"></i><b>6.15</b> <code>platform_set_evt_callback</code></a>
<ul>
<li class="chapter" data-level="6.15.1" data-path="api-ref.html"><a href="api-ref.html#原型-14"><i class="fa fa-check"></i><b>6.15.1</b> 原型</a></li>
<li class="chapter" data-level="6.15.2" data-path="api-ref.html"><a href="api-ref.html#参数表-14"><i class="fa fa-check"></i><b>6.15.2</b> 参数表</a></li>
<li class="chapter" data-level="6.15.3" data-path="api-ref.html"><a href="api-ref.html#返回值-14"><i class="fa fa-check"></i><b>6.15.3</b> 返回值</a></li>
<li class="chapter" data-level="6.15.4" data-path="api-ref.html"><a href="api-ref.html#备注-14"><i class="fa fa-check"></i><b>6.15.4</b> 备注</a></li>
<li class="chapter" data-level="6.15.5" data-path="api-ref.html"><a href="api-ref.html#示例-14"><i class="fa fa-check"></i><b>6.15.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.16" data-path="api-ref.html"><a href="api-ref.html#platform_set_irq_callback"><i class="fa fa-check"></i><b>6.16</b> <code>platform_set_irq_callback</code></a>
<ul>
<li class="chapter" data-level="6.16.1" data-path="api-ref.html"><a href="api-ref.html#原型-15"><i class="fa fa-check"></i><b>6.16.1</b> 原型</a></li>
<li class="chapter" data-level="6.16.2" data-path="api-ref.html"><a href="api-ref.html#参数表-15"><i class="fa fa-check"></i><b>6.16.2</b> 参数表</a></li>
<li class="chapter" data-level="6.16.3" data-path="api-ref.html"><a href="api-ref.html#返回值-15"><i class="fa fa-check"></i><b>6.16.3</b> 返回值</a></li>
<li class="chapter" data-level="6.16.4" data-path="api-ref.html"><a href="api-ref.html#备注-15"><i class="fa fa-check"></i><b>6.16.4</b> 备注</a></li>
<li class="chapter" data-level="6.16.5" data-path="api-ref.html"><a href="api-ref.html#示例-15"><i class="fa fa-check"></i><b>6.16.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.17" data-path="api-ref.html"><a href="api-ref.html#platform_shutdown"><i class="fa fa-check"></i><b>6.17</b> <code>platform_shutdown</code></a>
<ul>
<li class="chapter" data-level="6.17.1" data-path="api-ref.html"><a href="api-ref.html#原型-16"><i class="fa fa-check"></i><b>6.17.1</b> 原型</a></li>
<li class="chapter" data-level="6.17.2" data-path="api-ref.html"><a href="api-ref.html#参数表-16"><i class="fa fa-check"></i><b>6.17.2</b> 参数表</a></li>
<li class="chapter" data-level="6.17.3" data-path="api-ref.html"><a href="api-ref.html#返回值-16"><i class="fa fa-check"></i><b>6.17.3</b> 返回值</a></li>
<li class="chapter" data-level="6.17.4" data-path="api-ref.html"><a href="api-ref.html#备注-16"><i class="fa fa-check"></i><b>6.17.4</b> 备注</a></li>
<li class="chapter" data-level="6.17.5" data-path="api-ref.html"><a href="api-ref.html#示例-16"><i class="fa fa-check"></i><b>6.17.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.18" data-path="api-ref.html"><a href="api-ref.html#api-switch-app"><i class="fa fa-check"></i><b>6.18</b> <code>platform_switch_app</code></a>
<ul>
<li class="chapter" data-level="6.18.1" data-path="api-ref.html"><a href="api-ref.html#原型-17"><i class="fa fa-check"></i><b>6.18.1</b> 原型</a></li>
<li class="chapter" data-level="6.18.2" data-path="api-ref.html"><a href="api-ref.html#参数表-17"><i class="fa fa-check"></i><b>6.18.2</b> 参数表</a></li>
<li class="chapter" data-level="6.18.3" data-path="api-ref.html"><a href="api-ref.html#返回值-17"><i class="fa fa-check"></i><b>6.18.3</b> 返回值</a></li>
<li class="chapter" data-level="6.18.4" data-path="api-ref.html"><a href="api-ref.html#备注-17"><i class="fa fa-check"></i><b>6.18.4</b> 备注</a></li>
<li class="chapter" data-level="6.18.5" data-path="api-ref.html"><a href="api-ref.html#示例-17"><i class="fa fa-check"></i><b>6.18.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.19" data-path="api-ref.html"><a href="api-ref.html#platform_write_persistent_reg"><i class="fa fa-check"></i><b>6.19</b> <code>platform_write_persistent_reg</code></a>
<ul>
<li class="chapter" data-level="6.19.1" data-path="api-ref.html"><a href="api-ref.html#原型-18"><i class="fa fa-check"></i><b>6.19.1</b> 原型</a></li>
<li class="chapter" data-level="6.19.2" data-path="api-ref.html"><a href="api-ref.html#参数表-18"><i class="fa fa-check"></i><b>6.19.2</b> 参数表</a></li>
<li class="chapter" data-level="6.19.3" data-path="api-ref.html"><a href="api-ref.html#返回值-18"><i class="fa fa-check"></i><b>6.19.3</b> 返回值</a></li>
<li class="chapter" data-level="6.19.4" data-path="api-ref.html"><a href="api-ref.html#备注-18"><i class="fa fa-check"></i><b>6.19.4</b> 备注</a></li>
<li class="chapter" data-level="6.19.5" data-path="api-ref.html"><a href="api-ref.html#示例-18"><i class="fa fa-check"></i><b>6.19.5</b> 示例</a></li>
</ul></li>
<li class="chapter" data-level="6.20" data-path="api-ref.html"><a href="api-ref.html#syssetpublicdeviceaddr"><i class="fa fa-check"></i><b>6.20</b> <code>sysSetPublicDeviceAddr</code></a>
<ul>
<li class="chapter" data-level="6.20.1" data-path="api-ref.html"><a href="api-ref.html#原型-19"><i class="fa fa-check"></i><b>6.20.1</b> 原型</a></li>
<li class="chapter" data-level="6.20.2" data-path="api-ref.html"><a href="api-ref.html#参数表-19"><i class="fa fa-check"></i><b>6.20.2</b> 参数表</a></li>
<li class="chapter" data-level="6.20.3" data-path="api-ref.html"><a href="api-ref.html#返回值-19"><i class="fa fa-check"></i><b>6.20.3</b> 返回值</a></li>
<li class="chapter" data-level="6.20.4" data-path="api-ref.html"><a href="api-ref.html#备注-19"><i class="fa fa-check"></i><b>6.20.4</b> 备注</a></li>
<li class="chapter" data-level="6.20.5" data-path="api-ref.html"><a href="api-ref.html#示例-19"><i class="fa fa-check"></i><b>6.20.5</b> 示例</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="revision-history.html"><a href="revision-history.html"><i class="fa fa-check"></i><b>7</b> 版本历史</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">INGCHIPS SDK 开发者用户手册</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="core-tools" class="section level1 hasAnchor" number="4">
<h1><span class="header-section-number">4</span> 核心工具<a href="core-tools.html#core-tools" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>SDK 核心工具在整个 BLE 开发过程中扮演重要角色。</p>
<div id="向导" class="section level2 hasAnchor" number="4.1">
<h2><span class="header-section-number">4.1</span> 向导<a href="core-tools.html#向导" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>向导（<code>ingWizard</code>） 是整个开发周期中的推荐入口。我们用这个工具创建、打开项目，编辑项目数据，迁移项目版本等。</p>
<ol style="list-style-type: decimal">
<li><p>创建项目</p>
<p><code>ingWizard</code> 的新项目向导辅助我们建立新项目。在向导里，可以选择喜欢的 IDE，蓝牙角色，编辑广播、配置数据，
使能 FOTA、日志，等等。</p>
<p>项目创建后，向导同时会生成以下只供 <code>ingWizard</code> 使用的文件——不要删除这些文件，否则 <code>ingWizard</code>
将无法正常工作：</p>
<ul>
<li><p><code>$(ProjectName).ingw</code></p>
<p>这个文件的文件名与与项目相同，但是扩展名为 <code>.ingw</code>。它包含关于项目和 SDK 的关键信息。
如果没有这些信息，就无法进行版本迁移。</p></li>
</ul></li>
<li><p>广播数据编辑器（Advertising Data Editor）</p>
<p>这个编辑器帮助我们生成广播数据。它也可用从主菜单
<code>Tools</code> -&gt; <code>Advertising Data Editor ...</code> 打开。</p></li>
<li><p>GATT 配置编辑器（GATT Profile Editor 或者 GATT/ATT Database Editor)</p>
<p>这个编辑器帮助我们生成 GATT 配置数据。它也可从主菜单
<code>Tools</code> -&gt; <code>Profile Database Editor ...</code> 打开。</p>
<p>这个编辑器支持三种类型的服务：SIG 定义的服务，<em>INGChips</em> 定义的服务，
以及用户自定义的服务。用户自定义服务需要事先定义（见后文）然后才能添加。</p></li>
<li><p>管理自定义服务</p>
<p>这个编辑器可以通过主菜单 <code>Tools</code> -&gt; <code>Manage Custom GATT Services ...</code> 打开。
我们可以添加、删除、编辑自定义服务。</p>
<p>自定义服务和特征的名字都以安装时指定的公司名称作为前辍。公司名称可以通过
<code>Environment Options</code> 修改。</p></li>
<li><p>迁移</p>
<p>当更新了 SDK 版本后，platform 占用的 Flash 和 RAM 可能发生变化，项目的设置也就需要相应更新。
这个过程可以通过在项目上点击右键，然后选择 <code>Check &amp; Fix Settings ...</code> 自动完成。</p></li>
</ol>
<div class="rmdimportant">
<p>
在使用迁移功能之前 <em>务必</em>
先对项目做备份：将项目提交到版本管理系统或者直接备份所有文件。
</p>
</div>
</div>
<div id="ch2-downloader" class="section level2 hasAnchor" number="4.2">
<h2><span class="header-section-number">4.2</span> 下载器<a href="core-tools.html#ch2-downloader" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="介绍" class="section level3 hasAnchor" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> 介绍<a href="core-tools.html#介绍" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>下载器可以将最多 6 个映像文件（二进制文件）通过 UART 烧录到芯片。
它需要芯片内的引导程序（Bootloader）的配合。Bootloader 可以通过以下途径进入 Flash 下载状态：</p>
<ul>
<li><p>使能 Boot 引脚（这是最常用的情况），或者</p></li>
<li><p>将 Flash 里的入口地址设为非法值（仅适用于 ING918xx）。</p></li>
</ul>
<p>当芯片上电时，Bootloader 会检查上述各个条件，只要有一条满足，就会进入下载状态，并发送握手信息。</p>
<p>用户可以下载任意文件，尽管典型情况下，这些文件都是由 IDE 工具生成。
程序映像文件的加载地址必须与 Flash 烧写单位对齐：</p>
<ul>
<li><p>对于 ING918xx，烧写单位为页</p>
<p>映像文件的加载地址必须与页边界对齐。每页 <span class="math inline">\(8192\)</span> (<code>0x2000</code>) 字节。Flash 起始地址为 <code>0x4000</code>，
所以加载地址应该满足 <code>0x4000 + X * 0x2000</code>, 这里 <code>X</code> 为自然数。</p></li>
<li><p>对于 ING916xx，烧写单位为扇区</p>
<p>映像文件的加载地址必须与扇区边界对齐。每个扇区 <span class="math inline">\(4096\)</span> (<code>0x1000</code>) 字节。Flash 起始地址为 <code>0x02000000</code>，
所以加载地址应该满足 <code>0x02000000 + X * 0x1000</code>, 这里 <code>X</code> 为自然数。</p></li>
</ul>
<p>如果加载地址有误，下载器会报告错误信息。
说明：当从 <code>ingWizard</code> 里启动下载器时，地址应该都已正确配置。</p>
<p>点击 <code>Setup UART ...</code> 配置 UART 参数（图 <a href="core-tools.html#fig:ch2-downloader-uart-cfg">4.1</a>）。
用户需要将 <code>Port Number</code> 设置成 Windows 设备管理器显示的串口号，例如，如果使用 “COM9” 就将
<code>Port Number</code> 设置为 <code>COM9</code>，或者直接写 <code>9</code>。
波特率可以设置成比默认值 <code>115200</code> 更大的数值，比如 <code>256000</code>、<code>512000</code>、<code>750000</code>、<code>921600</code> 等，
来获得更高的下载速率。
工具支持的最高波特率为 <code>921600</code>。受限于内部 Flash 的自身特性，
将波特率设为比 <code>512000</code> 更高的数值并不会带来下载速率的进一步提升。其它 UART 参数保持不变。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch2-downloader-uart-cfg"></span>
<img src="img/ch2-downloader-uart-cfg.png" alt="Configurate UART" width="40%" />
<p class="caption">
Figure 4.1: Configurate UART
</p>
</div>
<p>整个下载过程包含多个步骤：下载、验证、设置启动地址、启动程序。这些步骤可通过点击
<code>Options</code> 进行设置（图 <a href="core-tools.html#fig:ch2-downloader-options">4.2</a>）。
对于 ING918xx，启动地址（入口地址） <code>0x4000</code> 等于 platform 的加载地址。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch2-downloader-options"></span>
<img src="img/ch2-downloader-options.png" alt="Downloader Options" width="40%" />
<p class="caption">
Figure 4.2: Downloader Options
</p>
</div>
<p>如果启用了 “Verify Download” 功能，
数据下载之后会从 Flash 回读并与原始数据对比以验证下载是否正确。由于下载时数据已经过 CRC 验证，一般情况下，
“Verify Download” 并不需要启用。
如果在特定位置持续出现下载错误，那么我们可用启用验证功能以便检查 Flash 是否出现异常。当验证失败时，
下载器会把回读的数据保存到文件里以便进一步分析。</p>
<p>当启用了批量（“Batch”）模式时，下载器会持续等待 Bootloader 的握手信号，
一旦收到握手信号就会开始下载；下载完成后，下载器再次进入等待状态。如果未启用 “Batch” 模式，
下载完成后下载器就不会再次等待握手信号。</p>
<p>点击 <code>Start</code> 开始下载，更确切地说是开始等待握手信号。Bootloader 只发送一次握手信号，
如果芯片已经上电，Bootloader 已经发送过了握手信号，这种情况下，我们可以点击 <code>Force</code> 跳过等待过程，直接开始下载。</p>
</div>
<div id="script-mass-prod" class="section level3 hasAnchor" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> 脚本与量产<a href="core-tools.html#script-mass-prod" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>下载器支持脚本，可以应用于量产。在下载脚本里可以捕捉到两个事件：</p>
<ul>
<li><p><code>OnStartRun</code></p>
<p>这个事件处理函数在每轮下载开始时都会调用；</p></li>
<li><p><code>OnStartBin</code></p>
<p>这个事件处理函数在每个二进制文件开始下载时都会调用。在这个函数里，可以即时修改待下载的数据。</p></li>
</ul>
<p>当启用了 “Batch” 时，下载器会维护一个计数器，每次下载完成，该计数器加 1。这个计数器即图 <a href="core-tools.html#fig:ch2-downloader-options">4.2</a> 中的 <code>Counter.Current</code>。还有一个名为 <code>Counter.Limit</code> 的变量：
在 “Batch” 模式下，当要开始新的一轮下载时，会检查 <code>Counter.Current</code>，
如果<strong>超过</strong>了限制，“Batch” 模式自动停止。
例如 <code>Counter.Current</code> 和 <code>Counter.Limit</code> 分别为 <code>10</code> 和 <code>13</code>，那么 “Batch” 模式将一共执行 4 轮
下载，每一轮的 <code>Counter.Current</code> 等于 <code>10</code>、<code>11</code>、<code>12</code> 和 <code>13</code>。“Batch” 停止后，
<code>Counter.Current</code> 等于 <code>14</code>.</p>
<p>下载器使用的脚本语言为 <em>RemObjects Pascal Script</em><a href="#fn15" class="footnote-ref" id="fnref15"><sup>15</sup></a>，
与 <code>C</code> 比较类似，易于开发。下面是一个简单但是实用的例子，把下载计数器写入二进制文件的固定位置：</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode pascal"><code class="sourceCode pascal"><span id="cb33-1"><a href="core-tools.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">// 我们可以使用常数</span></span>
<span id="cb33-2"><a href="core-tools.html#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="kw">const</span></span>
<span id="cb33-3"><a href="core-tools.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  BD_ADDR_ADDR = <span class="bn">$1;</span></span>
<span id="cb33-4"><a href="core-tools.html#cb33-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-5"><a href="core-tools.html#cb33-5" aria-hidden="true" tabindex="-1"></a><span class="co">// BatchCounter 就是 Counter.Current</span></span>
<span id="cb33-6"><a href="core-tools.html#cb33-6" aria-hidden="true" tabindex="-1"></a><span class="kw">procedure</span> OnStartRun(<span class="kw">const</span> BatchCounter: <span class="dt">Integer</span>; <span class="kw">var</span> Abort: <span class="dt">Boolean</span>);</span>
<span id="cb33-7"><a href="core-tools.html#cb33-7" aria-hidden="true" tabindex="-1"></a><span class="kw">begin</span></span>
<span id="cb33-8"><a href="core-tools.html#cb33-8" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 使用 Print 输出日志、调试信息</span></span>
<span id="cb33-9"><a href="core-tools.html#cb33-9" aria-hidden="true" tabindex="-1"></a>  Print(<span class="st">&#39;OnStartRun %d&#39;</span>, [BatchCounter]);</span>
<span id="cb33-10"><a href="core-tools.html#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 把 Abort 赋值为 True 可以中止下载</span></span>
<span id="cb33-11"><a href="core-tools.html#cb33-11" aria-hidden="true" tabindex="-1"></a>  <span class="co">// Abort := True;</span></span>
<span id="cb33-12"><a href="core-tools.html#cb33-12" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span>;</span>
<span id="cb33-13"><a href="core-tools.html#cb33-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-14"><a href="core-tools.html#cb33-14" aria-hidden="true" tabindex="-1"></a><span class="kw">procedure</span> OnStartBin(<span class="kw">const</span> BatchCounter, BinIndex: <span class="dt">Integer</span>;</span>
<span id="cb33-15"><a href="core-tools.html#cb33-15" aria-hidden="true" tabindex="-1"></a>                     <span class="kw">var</span> Data: TBytes; <span class="kw">var</span> Abort: <span class="dt">Boolean</span>);</span>
<span id="cb33-16"><a href="core-tools.html#cb33-16" aria-hidden="true" tabindex="-1"></a><span class="kw">begin</span></span>
<span id="cb33-17"><a href="core-tools.html#cb33-17" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 注意 BinIndex 从 1 开始计数（而不是 0），与图形界面一致</span></span>
<span id="cb33-18"><a href="core-tools.html#cb33-18" aria-hidden="true" tabindex="-1"></a>  <span class="kw">if</span> BinIndex &lt;&gt; <span class="dv">2</span> <span class="kw">then</span> <span class="kw">Exit</span>;</span>
<span id="cb33-19"><a href="core-tools.html#cb33-19" aria-hidden="true" tabindex="-1"></a>  <span class="co">// 我们在数据下载到 Flash 之前修改它</span></span>
<span id="cb33-20"><a href="core-tools.html#cb33-20" aria-hidden="true" tabindex="-1"></a>  Data[BD_ADDR_ADDR + <span class="dv">0</span>] := BatchCounter <span class="kw">and</span> <span class="bn">$FF;</span></span>
<span id="cb33-21"><a href="core-tools.html#cb33-21" aria-hidden="true" tabindex="-1"></a>  Data[BD_ADDR_ADDR + <span class="dv">1</span>] := (BatchCounter <span class="kw">shr</span> <span class="dv">8</span>) <span class="kw">and</span> <span class="bn">$FF;</span></span>
<span id="cb33-22"><a href="core-tools.html#cb33-22" aria-hidden="true" tabindex="-1"></a>  Data[BD_ADDR_ADDR + <span class="dv">2</span>] := (BatchCounter <span class="kw">shr</span> <span class="dv">8</span>) <span class="kw">and</span> <span class="bn">$FF;</span></span>
<span id="cb33-23"><a href="core-tools.html#cb33-23" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span>;</span></code></pre></div>
</div>
<div id="flash-读保护适用于-ing918xx" class="section level3 hasAnchor" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Flash 读保护（适用于 ING918xx）<a href="core-tools.html#flash-读保护适用于-ing918xx" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>为防止对 Flash 内的数据和程序的非法访问，918xx 设计了一种读保护机制。
读保护一旦启用，JTAG/SWD 就下载器都无法访问 Flash。
要使芯片重新启用 JTAG/SWD 调试、下载功能，需要一个经过 <em>解锁</em> 过程。<em>解锁</em> 时，
Flash 里的数据被全部擦除。</p>
<p>当 app 已准备就绪，并且认为需要保护 Flash 里的数据和程序不被非法访问，可如图
<a href="core-tools.html#fig:ch2-downloader-options">4.2</a> 所示启用读保护（“Read Protection”）功能。
启用 <code>Unlock Before Download</code> 选项可以为已经启用了读保护的设备重新下载程序。由于
<em>解锁</em> 时，Flash 里的数据被全部擦除，不要忘记重新下载 platform。</p>
<p>所有的配置参数都保存在一个 <em>ini</em> 文件内。</p>
</div>
<div id="python-版本" class="section level3 hasAnchor" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Python 版本<a href="core-tools.html#python-版本" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>SDK 同时提供了一个 Python 版本的下载器（<em>icsdw.py</em>）。它是开源的，可以与其它工具集成。</p>
<p>本工具是用 Python 3 开发，使用
<code>PySerial</code><a href="#fn16" class="footnote-ref" id="fnref16"><sup>16</sup></a>
包访问串口。
这个包可以通过运行命令 “<code>pip install pyserial</code>” 安装。</p>
<p>Python 版下载器与图形界面版（GUI）下载器使用相同的 <em>ini</em> 文件，只有一处例外：脚本。
GUI 版工具将 <em>RemObjects Pascal</em> 保存在 “<em>options</em>” 里 “<em>script</em>” 域，而 Python 版在
这个域里保存的是一个用户模块的路径。这个路径可以是绝对路径，也可以是相对路径（相对于 <em>ini</em> 文件）。</p>
<p>在用户模块里，与 GUI 版本类似，可以定义两个事件回调函数，
<code>on_start_run</code> 和 <code>on_start_bin</code>。下面的例子演示了如何将批量计数器写入第 2 号二进制文件的固定地址：</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="core-tools.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="co"># 返回 abort_flag</span></span>
<span id="cb34-2"><a href="core-tools.html#cb34-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> on_start_run(batch_counter: <span class="bu">int</span>):</span>
<span id="cb34-3"><a href="core-tools.html#cb34-3" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">False</span></span>
<span id="cb34-4"><a href="core-tools.html#cb34-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-5"><a href="core-tools.html#cb34-5" aria-hidden="true" tabindex="-1"></a><span class="co"># 返回 abort_flag, new_data</span></span>
<span id="cb34-6"><a href="core-tools.html#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> on_start_bin(batch_counter: <span class="bu">int</span>, bin_index: <span class="bu">int</span>, data: <span class="bu">bytes</span>):</span>
<span id="cb34-7"><a href="core-tools.html#cb34-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> bin_index <span class="op">!=</span> <span class="dv">2</span>:</span>
<span id="cb34-8"><a href="core-tools.html#cb34-8" aria-hidden="true" tabindex="-1"></a>        <span class="cf">return</span> <span class="va">False</span>, data</span>
<span id="cb34-9"><a href="core-tools.html#cb34-9" aria-hidden="true" tabindex="-1"></a>    ba <span class="op">=</span> <span class="bu">bytearray</span>(data)</span>
<span id="cb34-10"><a href="core-tools.html#cb34-10" aria-hidden="true" tabindex="-1"></a>    addr <span class="op">=</span> batch_counter.to_bytes(<span class="dv">4</span>, <span class="st">&#39;little&#39;</span>)</span>
<span id="cb34-11"><a href="core-tools.html#cb34-11" aria-hidden="true" tabindex="-1"></a>    ba[<span class="dv">1</span>:<span class="dv">5</span>] <span class="op">=</span> addr</span>
<span id="cb34-12"><a href="core-tools.html#cb34-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> <span class="va">False</span>, <span class="bu">bytes</span>(ba)</span></code></pre></div>
</div>
</div>
<div id="ingtracer" class="section level2 hasAnchor" number="4.3">
<h2><span class="header-section-number">4.3</span> Trace 工具<a href="core-tools.html#ingtracer" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Trace 工具（<code>ingTracer</code>）是
<a href="dive-into-sdk.html#debugging-tracing">调试与跟踪</a> 里提到的 Trace 数据的可视化工具.</p>
<p>为了限制屏幕上的数据，<code>ingTracer</code> 将数据划分为若干帧。每一帧的长度为 5 秒。
为了使呈现的数据更具有连续性，当选择了一帧时，除了当前帧，
其前后各一帧也会显示出来。</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch2-tracer-main"></span>
<img src="img/ch2-tracer-main.png" alt="ingTracer 主界面" width="85%" />
<p class="caption">
Figure 4.3: ingTracer 主界面
</p>
</div>
<p><strong>Graph</strong> 将所有数据图形化显示。点击 <strong>Graph</strong> 里的一项，
会在 <strong>Message Decoder</strong> 和 <strong>Message Hex Viewer</strong> 显示详细的解码信息。<strong>Graph</strong> 支持一些 CAD 操作，
如缩放、平移、测量等。选择菜单 <code>Help</code> -&gt; <code>About</code> 查看详细信息。 （图 <a href="core-tools.html#fig:ch2-tracer-main">4.3</a>）</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:ch2-tracer-msc"></span>
<img src="img/ch2-tracer-msc.png" alt="MSC Generated by ingTracer" width="85%" />
<p class="caption">
Figure 4.4: MSC Generated by ingTracer
</p>
</div>
<p>为辅助分析 app 及高层协议栈问题，<code>ingTrace</code> 可为每一个连接生成 MSC （消息序列图）。
<strong>Graph</strong> 窗口侧重事件之间的定时关系，而 MSC 则侧重流程，更便于分析协议层面的问题。点击 MSC 里的 <code>[+]</code>
可以解码消息 （图 <a href="core-tools.html#fig:ch2-tracer-msc">4.4</a>）。</p>
</div>
<div id="ch2-axf-tool" class="section level2 hasAnchor" number="4.4">
<h2><span class="header-section-number">4.4</span> Axf Tool<a href="core-tools.html#ch2-axf-tool" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><code>Axf Tool</code> 是一个用于分析可执行程序和内存转储的命令行工具，可从 <code>ingWizard</code> 的项目快捷菜单执行。
包含多种功能：</p>
<ul>
<li><p><strong>stack-usage</strong>:
静态分析栈的使用情况，并报告栈空间使用最多前 N 条函数调用链；</p></li>
<li><p><strong>bt-api-thread-safety</strong>:
分析对蓝牙 API 的调用，检查是否违反了单线程约定；</p></li>
<li><p><strong>call-stack</strong>:
尝试从内存转储中恢复函数调用栈；</p></li>
<li><p><strong>history</strong>:
给出关于 BLE 活动简史；</p></li>
<li><p><strong>check-heap</strong>:
尝试检查堆的状态；</p></li>
<li><p><strong>check-task</strong>:
在内存转储的帮助下动态检查 FreeRTOS 里的各个任务的情况。</p></li>
</ul>
<p>通过 <code>axf_tool.exe help {function}</code> 命令获得每种功能的详细信息。</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="15">
<li id="fn15"><p><a href="https://github.com/remobjects/pascalscript" class="uri">https://github.com/remobjects/pascalscript</a><a href="core-tools.html#fnref15" class="footnote-back">↩︎</a></p></li>
<li id="fn16"><p><a href="https://pypi.org/project/pyserial/" class="uri">https://pypi.org/project/pyserial/</a><a href="core-tools.html#fnref16" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="tutorial.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="dive-into-sdk.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["user_guide.pdf", "user_guide.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
